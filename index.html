<!DOCTYPE html>
<html lang="en" class="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Hackintosh Laptop Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Base styles (Light Mode) */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F8F9FA; /* Light background */
            color: #212529; /* Dark text */
            transition: background-color 0.3s, color 0.3s;
        }
        .bg-primary { background-color: #4A90E2; }
        .text-primary { color: #4A90E2; }
        .border-primary { border-color: #4A90E2; }
        .bg-secondary { background-color: #f0f4f8; } /* Light secondary background */
        .text-dark { color: #212529; }
        .text-medium { color: #495057; }
        .text-light { color: #adb5bd; }
        .card-shadow { box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); }
        .nav-link { transition: color 0.2s, border-color 0.2s; padding-top: 0.5rem; padding-bottom: 0.5rem; } /* Added padding for better touch */
        .nav-link.active { color: #4A90E2; border-bottom-width: 2px; border-color: #4A90E2; }
        .nav-link:not(.active) { border-bottom-width: 2px; border-color: transparent; }
        .modal-bg { background-color: rgba(0,0,0,0.5); }
        .chart-container { position: relative; width: 100%; max-width: 450px; margin-left: auto; margin-right: auto; height: 300px; max-height: 350px; }
        @media (min-width: 768px) { .chart-container { height: 320px; } }
        .component-tab.active { background-color: #4A90E2; color: white; }
        .component-tab { transition: background-color 0.2s, color 0.2s; }
        .timeline-item::before { content: ''; position: absolute; top: 12px; left: -20px; width: 40px; border-top: 2px dashed #adb5bd; }
        .timeline-item:first-child::before { display: none; }

        /* Dark Mode Styles */
        .dark body {
            background-color: #1a202c; /* Dark background */
            color: #e2e8f0; /* Light text */
        }
        .dark .bg-white { background-color: #2d3748; } /* Darker card/modal background */
        .dark .text-dark { color: #e2e8f0; }
        .dark .text-medium { color: #a0aec0; }
        .dark .text-light { color: #718096; }
        .dark .bg-secondary { background-color: #2d3748; }
        .dark .card-shadow { box-shadow: 0 4px 6px -1px rgba(0,0,0,0.3), 0 2px 4px -2px rgba(0,0,0,0.2); }
        .dark .border-primary { border-color: #63b3ed; } /* Lighter primary for dark mode */
        .dark .text-primary { color: #63b3ed; }
        .dark .bg-primary { background-color: #3182ce; }
        .dark .nav-link.active { color: #63b3ed; border-color: #63b3ed; }
        .dark .component-tab.active { background-color: #3182ce; color: #e2e8f0; }
        .dark .component-tab:not(.active) { background-color: #4a5568; color: #e2e8f0; }
        .dark .priority-btn.bg-white, .dark .priority-btn-all.bg-white { background-color: #4a5568; color: #e2e8f0; border-color: #63b3ed;}
        .dark .timeline-item::before { border-top-color: #4a5568; }
        .dark .absolute.bg-primary { background-color: #3182ce; }
        /* Updated Modal Styles for full-screen effect */
        .dark #laptop-modal .bg-white { background-color: #1f2937; } /* Darker full-screen modal background */
        #laptop-modal.flex { /* when shown */
            padding: 0; 
        }
        #laptop-modal > div { /* The direct child, originally the white card */
            width: 100%;
            height: 100%;
            max-width: 100%; 
            max-height: 100%; 
            border-radius: 0; 
            box-shadow: none; /* Remove shadow for full screen */
        }
        .dark #laptop-modal > div {
             background-color: #1f2937; /* Ensure dark background for content area */
        }
        .dark #laptop-modal .border-b, .dark #comparison-modal .border-b { border-color: #4a5568; }
        .dark #laptop-modal #modal-close-btn, .dark #comparison-modal #modal-close-btn { color: #a0aec0; }
        .dark #laptop-modal #modal-close-btn:hover, .dark #comparison-modal #modal-close-btn:hover { color: #e2e8f0; }
        .dark .chart-container canvas { /* Ensure chart labels are visible in dark mode */ }
        .dark .status-good-bg { background-color: rgba(40, 167, 69, 0.2); border-color: #28a745 }
        .dark .status-mid-bg { background-color: rgba(253, 126, 20, 0.2); border-color: #fd7e14 }
        .dark .status-bad-bg { background-color: rgba(220, 53, 69, 0.2); border-color: #dc3545 }
        .dark .hover\:bg-blue-50:hover { background-color: #3182ce20; }
        .dark .hover\:bg-blue-600:hover { background-color: #2c5282; }
        .dark #find-bar { background-color: #4a5568; border-color: #6b7280; color: #e2e8f0; }
        .dark #find-bar::placeholder { color: #a0aec0; }


        .comparison-chart-container {
            position: relative;
            width: 100%;
            max-width: 350px; 
            margin-left: auto;
            margin-right: auto;
            height: 280px; 
        }
        .priority-btn, .priority-btn-all {
            font-weight: bold;
            padding: 0.75rem 1.5rem; 
            border-radius: 0.5rem; 
            box-shadow: 0 4px 6px -1px rgba(0,0,0,.1), 0 2px 4px -1px rgba(0,0,0,.06); 
            transition-property: background-color, border-color, color, transform, box-shadow;
            transition-duration: .15s;
            transition-timing-function: cubic-bezier(.4,0,.2,1);
        }
        .priority-btn:hover, .priority-btn-all:hover {
            transform: scale(1.05);
        }
        .priority-btn.active-filter, .priority-btn-all.active-filter {
            background-color: #4A90E2; 
            color: white;
        }
        .dark .priority-btn.active-filter, .dark .priority-btn-all.active-filter {
             background-color: #3182ce; 
        }

        .priority-btn:not(.active-filter), .priority-btn-all:not(.active-filter) {
            background-color: white;
            color: #4A90E2; 
            border-width: 2px;
            border-color: #4A90E2; 
        }
        .dark .priority-btn:not(.active-filter), .dark .priority-btn-all:not(.active-filter) {
            background-color: #4a5568; 
            color: #e2e8f0; 
            border-color: #63b3ed; 
        }
        .content-section { /* For new sections */
            background-color: #ffffff; 
            padding: 1.5rem; /* p-6 */
            border-radius: 0.75rem; /* rounded-xl */
            margin-bottom: 2rem; /* mb-8 */
        }
        .dark .content-section {
            background-color: #2d3748; 
        }
        .content-section h3 {
            font-size: 1.25rem; /* text-xl */
            font-weight: 600; /* font-semibold */
            margin-bottom: 0.75rem; /* mb-3 */
            color: #4A90E2; /* text-primary */
        }
        .dark .content-section h3 {
            color: #63b3ed; /* dark:text-primary */
        }
        .content-section ul {
            list-style-type: disc;
            list-style-position: inside;
            font-size: 0.875rem; /* text-sm */
            color: #495057; /* text-medium */
            space-y: 0.25rem; /* space-y-1 */
        }
        .dark .content-section ul {
            color: #a0aec0; /* dark:text-medium */
        }
        .content-section p {
            font-size: 0.875rem; /* text-sm */
            color: #495057; /* text-medium */
            margin-bottom: 0.5rem; /* mb-2 */
        }
         .dark .content-section p {
            color: #a0aec0; /* dark:text-medium */
        }
    </style>
</head>
<body class="text-dark">

    <header class="bg-white shadow-md sticky top-0 z-40">
        <nav class="container mx-auto px-6 py-2 flex justify-between items-center"> <!-- Reduced py for tighter header -->
            <h1 class="text-xl font-bold text-primary">Hackintosh Laptop Guide</h1>
            <div class="flex items-center">
                 <div class="relative mr-4">
                    <input type="search" id="find-bar" placeholder="Find a laptop..." class="px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-primary focus:border-primary dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white">
                </div>
                <div class="hidden md:flex space-x-3 lg:space-x-4 mr-4"> <!-- Adjusted spacing -->
                    <a href="#home" class="nav-link active text-sm lg:text-base">Home</a>
                    <a href="#explorer" class="nav-link text-sm lg:text-base">Explorer</a>
                    <a href="#laptop-builds" class="nav-link text-sm lg:text-base">Laptop Builds</a> <!-- New Nav Link -->
                    <a href="#components" class="nav-link text-sm lg:text-base">Components</a>
                    <a href="#essentials" class="nav-link text-sm lg:text-base">Essentials</a>
                    <a href="#where-to-buy" class="nav-link text-sm lg:text-base">Buy Used</a>
                    <a href="#troubleshooting" class="nav-link text-sm lg:text-base">Troubleshoot</a>
                    <a href="#blog" class="nav-link text-sm lg:text-base">Blog</a>
                </div>
                <button id="theme-toggle" class="p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-primary" aria-label="Toggle dark mode">
                    <svg id="theme-icon-light" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 lg:h-6 lg:w-6 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m8.66-15.66l-.707.707M4.04 19.96l-.707.707M21 12h-1M4 12H3m15.66 8.66l-.707-.707M4.04 4.04l-.707-.707"/>
                    </svg>
                    <svg id="theme-icon-dark" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 lg:h-6 lg:w-6 text-indigo-400 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                    </svg>
                </button>
                <button id="mobile-menu-button" class="md:hidden focus:outline-none ml-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden bg-white">
            <a href="#home" class="block py-2 px-6 text-sm nav-link active">Home</a>
            <a href="#explorer" class="block py-2 px-6 text-sm nav-link">Laptop Explorer</a>
            <a href="#laptop-builds" class="block py-2 px-6 text-sm nav-link">Laptop Builds</a> <!-- New Nav Link -->
            <a href="#components" class="block py-2 px-6 text-sm nav-link">Component Checker</a>
            <a href="#essentials" class="block py-2 px-6 text-sm nav-link">The Essentials</a>
            <a href="#where-to-buy" class="block py-2 px-6 text-sm nav-link">Where to Buy Used</a>
            <a href="#troubleshooting" class="block py-2 px-6 text-sm nav-link">Troubleshooting Guide</a>
            <a href="#blog" class="block py-2 px-6 text-sm nav-link">Blog</a>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">
        
        <section id="home" class="text-center py-12 md:py-20">
            <h2 class="text-4xl md:text-5xl font-bold mb-4">Build Your Dream macOS Laptop</h2>
            <p class="text-lg text-medium max-w-3xl mx-auto mb-8">Ready to dive into the exciting world of Hackintosh laptops? This interactive guide will help you choose the perfect laptop, understand component compatibility, and navigate the setup process like a pro. Let's find your dream machine!</p>
            <div class="space-y-4">
                <h3 class="text-2xl font-semibold mb-4">What's Your Main Priority?</h3>
                <div id="priority-filter-buttons" class="flex flex-wrap justify-center gap-4">
                    <button data-priority="all" class="priority-btn-all active-filter">All Laptops</button>
                    <button data-priority="ease" class="priority-btn">Ease of Setup</button>
                    <button data-priority="performance" class="priority-btn">Maximum Performance</button>
                    <button data-priority="budget" class="priority-btn">Budget-Friendly</button>
                </div>
            </div>
        </section>

        <section id="explorer" class="py-12">
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold mb-2">Laptop Explorer</h2>
                <p class="text-medium max-w-2xl mx-auto">Here are highly recommended models based on extensive community testing and documentation. Use the priority buttons above or the find bar to filter the results. Select laptops to compare and click the 'Compare Selected' button.</p>
            </div>
            <div id="laptop-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Laptop cards will be injected here by JavaScript -->
            </div>
            <div id="compare-action-bar" class="fixed bottom-0 left-0 right-0 bg-white dark:bg-gray-800 p-4 shadow-lg z-30 text-center hidden">
                 <button id="compare-selected-btn" class="bg-primary text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                    Compare Selected (<span id="selected-count">0</span>)
                </button>
                <button id="clear-selection-btn" class="ml-4 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-gray-200 font-bold py-3 px-4 rounded-lg shadow hover:bg-gray-400 dark:hover:bg-gray-500">
                    Clear
                </button>
            </div>
        </section>

        <!-- Laptop Builds Section -->
        <section id="laptop-builds" class="py-12">
            <div class="text-center mb-12 px-4">
                <h2 class="text-3xl font-bold mb-2">Laptop Hackintosh Build Guide</h2>
                <p class="text-medium max-w-3xl mx-auto">This section provides a step-by-step guide to building your Hackintosh laptop using OpenCore. While we aim to be comprehensive for laptops, always refer to the official <a href="https://dortania.github.io/OpenCore-Install-Guide/" target="_blank" class="text-primary hover:underline">Dortania OpenCore Install Guide</a> as the primary source of truth.</p>
            </div>

            <div class="space-y-8">
                <div class="content-section card-shadow">
                    <h3>1. Research & Planning</h3>
                    <p>Before you begin, thorough research is key. Understand your laptop's hardware components (CPU, GPU, Wi-Fi, Audio, Trackpad). Not all laptops are equally compatible.</p>
                    <ul>
                        <li>Use the <a href="#explorer" class="text-primary hover:underline">Laptop Explorer</a> and <a href="#components" class="text-primary hover:underline">Component Checker</a> sections of this guide.</li>
                        <li>Consult Dortania's <a href="https://dortania.github.io/OpenCore-Install-Guide/macos-limits.html" target="_blank" class="text-primary hover:underline">Hardware Limitations</a> and <a href="https://dortania.github.io/OpenCore-Install-Guide/AMD/" target="_blank" class="text-primary hover:underline">AMD Vanilla Guide</a> (if applicable, though Intel is strongly recommended for laptops).</li>
                        <li>Search forums (r/hackintosh, InsanelyMac, Tonymacx86) for your specific laptop model to find existing guides or EFI repositories (use with caution, understand what they do).</li>
                    </ul>
                </div>

                <div class="content-section card-shadow">
                    <h3>2. Prerequisites & Preparation</h3>
                    <p>Gather all necessary files and tools. This is a critical step.</p>
                    <h4>2.1. Base OpenCore Files</h4>
                    <p>Download the latest OpenCore release package from <a href="https://github.com/acidanthera/OpenCorePkg/releases" target="_blank" class="text-primary hover:underline">Acidanthera's GitHub</a>. You'll primarily need files from the `EFI` directory.</p>
                    <h4>2.2. Gathering Kexts & Drivers</h4>
                    <p>Kexts (Kernel Extensions) are like drivers for macOS. Essential kexts include:</p>
                    <ul>
                        <li><a href="https://github.com/acidanthera/Lilu/releases" target="_blank" class="text-primary hover:underline">Lilu.kext</a> (Patching platform)</li>
                        <li><a href="https://github.com/acidanthera/VirtualSMC/releases" target="_blank" class="text-primary hover:underline">VirtualSMC.kext</a> (SMC emulator, plus sensor kexts like SMCProcessor, SMCSuperIO)</li>
                        <li><a href="https://github.com/acidanthera/WhateverGreen/releases" target="_blank" class="text-primary hover:underline">WhateverGreen.kext</a> (Graphics patching)</li>
                        <li><a href="https://github.com/acidanthera/AppleALC/releases" target="_blank" class="text-primary hover:underline">AppleALC.kext</a> (Audio patching)</li>
                        <li>Ethernet Kext (e.g., <a href="https://github.com/acidanthera/IntelMausi/releases" target="_blank" class="text-primary hover:underline">IntelMausi.kext</a> for Intel, <a href="https://github.com/Mieze/RealtekRTL8111-V2/releases" target="_blank" class="text-primary hover:underline">RealtekRTL8111.kext</a> for Realtek)</li>
                        <li>Wi-Fi/Bluetooth Kexts (e.g., <a href="https://github.com/OpenIntelWireless/itlwm/releases" target="_blank" class="text-primary hover:underline">AirportItlwm.kext</a> or itlwm.kext + HeliPort for Intel, <a href="https://github.com/acidanthera/AirportBrcmFixup/releases" target="_blank" class="text-primary hover:underline">AirportBrcmFixup.kext</a> for Broadcom, plus BrcmPatchRAM kexts for Bluetooth)</li>
                        <li>Input Kexts (e.g., <a href="https://github.com/acidanthera/VoodooPS2/releases" target="_blank" class="text-primary hover:underline">VoodooPS2Controller.kext</a> for PS/2 keyboards/trackpads, <a href="https://github.com/VoodooI2C/VoodooI2C/releases" target="_blank" class="text-primary hover:underline">VoodooI2C.kext</a> and satellite kexts for I2C trackpads)</li>
                    </ul>
                     <p class="mt-2"><strong>Note:</strong> For specific kexts tailored to laptops in our explorer, check their individual detail pages.</p>
                    <h4>2.3. ACPI (SSDTs)</h4>
                    <p>Advanced Configuration and Power Interface (ACPI) tables often need patching for laptops. Pre-built SSDTs from Dortania's <a href="https://dortania.github.io/Getting-Started-With-ACPI/" target="_blank" class="text-primary hover:underline">Getting Started With ACPI</a> guide are a good start. Common laptop SSDTs include:</p>
                    <ul>
                        <li>SSDT-EC-USBX (Embedded Controller and USB Power)</li>
                        <li>SSDT-PLUG (CPU Power Management)</li>
                        <li>SSDT-PNLF (Backlight Control)</li>
                        <li>SSDT-XOSI (OS Emulation for features like trackpad gestures)</li>
                        <li>Custom SSDTs may be needed for disabling dGPU, fixing trackpads, etc.</li>
                    </ul>
                </div>
                
                <div class="content-section card-shadow">
                    <h3>Essential Software Tools for OpenCore Builds</h3>
                    <p>Beyond kexts and SSDTs, you'll generally need these tools:</p>
                    <ul>
                        <li><strong>ProperTree:</strong> For editing `config.plist` files. (Usually found on GitHub, by corpnewt)</li>
                        <li><strong>MountEFI:</strong> A script or tool to easily mount EFI partitions (e.g., MountEFI by corpnewt, or manually via Terminal).</li>
                        <li><strong>gibMacOS:</strong> To download macOS recovery images directly from Apple. (Project by corpnewt on GitHub)</li>
                        <li><strong>SSDTTime:</strong> A Python script to help generate some basic ACPI SSDTs (like PLUG, EC) from a Linux `acpidump`. (Project by corpnewt on GitHub)</li>
                        <li><strong>USBMap / Hackintool:</strong> For USB port mapping post-install. (Hackintool for broader features, USBMap by corpnewt for dedicated USB mapping).</li>
                    </ul>
                    <p class="mt-2">Always download these from their official sources (usually GitHub) to ensure you have the latest and safest versions.</p>
                </div>
                <div class="content-section card-shadow">
                    <h3>A Note on Laptop-Specific Kexts</h3>
                    <p>While this guide provides general steps, pay close attention to the 'Essential Kexts (Typical)' section listed in the details for each laptop in our <a href="#explorer" class="text-primary hover:underline">Laptop Explorer</a>. These are often tailored to that specific model or series and are a good starting point for your `config.plist`.</p>
                </div>


                <div class="content-section card-shadow">
                    <h3>3. OpenCore config.plist Setup</h3>
                    <p>This is the heart of your OpenCore EFI. Use a plist editor like <a href="https://github.com/corpnewt/ProperTree" target="_blank" class="text-primary hover:underline">ProperTree</a>. Follow Dortania's guide for your CPU generation (e.g., Coffee Lake, Comet Lake Laptop guides).</p>
                    <p>Key sections for laptops:</p>
                    <ul>
                        <li><strong>ACPI:</strong> Add your SSDTs, apply necessary patches (e.g., for battery, brightness keys).</li>
                        <li><strong>DeviceProperties:</strong> Crucial for iGPU framebuffer patching, audio layout ID, and sometimes Wi-Fi/Ethernet properties.</li>
                        <li><strong>Kernel:</strong> Add your kexts in the correct order. Apply necessary patches (e.g., `algrey - Force cpuid_cores_per_package`).</li>
                        <li><strong>Misc:</strong> Setup boot flags (e.g., `-v debug=0x100 keepsyms=1 alcid=X`), security settings.</li>
                        <li><strong>NVRAM:</strong> Configure boot arguments, SIP settings.</li>
                        <li><strong>PlatformInfo:</strong> Generate a valid SMBIOS for your laptop (e.g., MacBookPro15,2, MacBookPro16,3). Use one that closely matches your CPU/iGPU.</li>
                        <li><strong>UEFI:</strong> Add necessary drivers (e.g., HfsPlus.efi, OpenRuntime.efi).</li>
                    </ul>
                    <p>Refer to: <a href="https://dortania.github.io/OpenCore-Install-Guide/config-laptop.plist/coffee-lake.html" target="_blank" class="text-primary hover:underline">Dortania Laptop config.plist Guides (select your CPU generation)</a></p>
                </div>
                
                <div class="content-section card-shadow">
                    <h3>4. USB Creation & BIOS Setup</h3>
                    <h4>4.1. Creating the macOS Installer USB</h4>
                    <p>Follow Dortania's guide: <a href="https://dortania.github.io/OpenCore-Install-Guide/installer-guide/" target="_blank" class="text-primary hover:underline">Making the Installer</a>. You can do this from macOS, Windows, or Linux.</p>
                    <p>After creating the installer, mount its EFI partition and copy your prepared `EFI` folder (containing `BOOT` and `OC` directories) to it.</p>
                    <h4>4.2. BIOS Settings for Laptops</h4>
                    <p>These are critical. Settings vary by manufacturer (Dell, Lenovo, HP). General settings include:</p>
                    <ul>
                        <li>Disable Secure Boot</li>
                        <li>Disable Fast Boot</li>
                        <li>Disable Intel SGX (Software Guard Extensions)</li>
                        <li>Disable CFG Lock (if option available, otherwise requires patching or kernel quirk)</li>
                        <li>Enable XHCI Handoff</li>
                        <li>Set SATA Mode to AHCI</li>
                        <li>Disable VT-d (Virtualization Technology for Directed I/O), unless you need it for other OSes and have `DisableIoMapper` quirk enabled.</li>
                        <li>Disable dGPU if possible in BIOS (often not an option, requiring SSDT).</li>
                        <li>Ensure UEFI Boot is enabled.</li>
                    </ul>
                    <p>Consult Dortania's <a href="https://dortania.github.io/OpenCore-Install-Guide/config-laptop.plist/coffee-lake.html#bios-settings" target="_blank" class="text-primary hover:underline">BIOS Settings page (example for Coffee Lake)</a> and search for your specific laptop model.</p>
                </div>

                <div class="content-section card-shadow">
                    <h3>5. Installation Process</h3>
                    <p>Boot from your prepared USB drive (you may need to press a key like F12, F10, Esc during startup to select boot device).</p>
                    <ol class="list-decimal list-inside space-y-1">
                        <li>Select the OpenCore USB entry (often named "EFI USB Device" or similar).</li>
                        <li>In the OpenCore boot picker, select "Install macOS [Version Name]".</li>
                        <li>Go through Disk Utility to format your target drive as APFS with GUID Partition Map.</li>
                        <li>Proceed with the macOS installation. The system will reboot multiple times. Each time, ensure you boot from the USB and select the macOS installer/drive entry in OpenCore picker (e.g., "macOS Installer" then later "Macintosh HD").</li>
                    </ol>
                    <p>Refer to: <a href="https://dortania.github.io/OpenCore-Install-Guide/installation/installation-process.html" target="_blank" class="text-primary hover:underline">Dortania Installation Process</a></p>
                </div>

                <div class="content-section card-shadow">
                    <h3>6. Post-Install Tuning for Laptops</h3>
                    <p>Once macOS is installed, boot from the internal drive by copying your EFI folder from the USB to the internal drive's EFI partition.</p>
                    <p>Now, fix what's not working. This is often the most time-consuming part for laptops.</p>
                    <ul>
                        <li><strong>Graphics:</strong> Ensure full acceleration. Check "About This Mac".</li>
                        <li><strong>Audio:</strong> Test speakers, headphones, microphone. May need different `alcid`.</li>
                        <li><strong>Wi-Fi & Bluetooth:</strong> Install necessary kexts and firmware.</li>
                        <li><strong>Trackpad/Keyboard:</strong> Ensure all gestures and special keys work. May need VoodooI2C tuning or specific VoodooPS2 kexts.</li>
                        <li><strong>USB Mapping:</strong> Crucial for sleep and port functionality. Use tools like USBMap or Hackintool. <a href="https://dortania.github.io/OpenCore-Post-Install/usb/" target="_blank" class="text-primary hover:underline">Dortania USB Mapping Guide</a>.</li>
                        <li><strong>Power Management & Sleep:</strong> Verify CPU power states (use Intel Power Gadget). Test sleep/wake. May require CPUFriend.kext and further ACPI patching. <a href="https://dortania.github.io/OpenCore-Post-Install/universal/pm.html" target="_blank" class="text-primary hover:underline">Dortania Power Management</a>.</li>
                        <li><strong>Battery Status:</strong> Ensure battery percentage shows correctly. May need specific ACPI patches (SSDT-BATT).</li>
                        <li><strong>Brightness Control:</strong> Ensure brightness keys work (SSDT-PNLF).</li>
                        <li><strong>HDMI/DisplayPort Audio/Video:</strong> Test external display connectivity.</li>
                    </ul>
                    <p>Refer to: <a href="https://dortania.github.io/OpenCore-Post-Install/" target="_blank" class="text-primary hover:underline">Dortania Post-Install Guide (Universal and Laptop Specifics)</a></p>
                </div>
                
                <div class="content-section card-shadow">
                    <h3>7. Troubleshooting Common Laptop Issues</h3>
                    <p>Refer to the main <a href="#troubleshooting" class="text-primary hover:underline">Troubleshooting section</a> of this guide. Specific laptop issues often revolve around:</p>
                    <ul>
                        <li>Sleep/Wake problems (Instant wake, black screen on wake).</li>
                        <li>Trackpad gesture issues or complete non-functionality.</li>
                        <li>Battery drain or incorrect readings.</li>
                        <li>Internal Wi-Fi/Bluetooth not detected or unstable.</li>
                        <li>Overheating due to poor CPU power management or un-disabled dGPU.</li>
                    </ul>
                    <p>Dortania's Troubleshooting sections are invaluable: 
                        <a href="https://dortania.github.io/OpenCore-Install-Guide/troubleshooting/troubleshooting.html" target="_blank" class="text-primary hover:underline">General Troubleshooting</a>, 
                        <a href="https://dortania.github.io/OpenCore-Post-Install/troubleshooting/" target="_blank" class="text-primary hover:underline">Post-Install Troubleshooting</a>.
                    </p>
                </div>

                 <div class="content-section card-shadow">
                    <h3>8. Essential Resources & Communities</h3>
                    <p>You are not alone! The Hackintosh community is vast and helpful.</p>
                     <ul class="space-y-2">
                        <li><strong>Primary Guide:</strong> <a href="https://dortania.github.io/OpenCore-Install-Guide/" target="_blank" class="font-semibold text-primary hover:underline">Dortania OpenCore Install Guide</a> - The definitive resource.</li>
                        <li><strong>Kexts & Tools:</strong> <a href="https://github.com/acidanthera" target="_blank" class="font-semibold text-primary hover:underline">Acidanthera on GitHub</a> (OpenCore, Lilu, WhateverGreen, etc.)</li>
                        <li><strong>Forums & Communities:</strong>
                            <ul>
                                <li><a href="https://www.reddit.com/r/hackintosh/" target="_blank" class="text-primary hover:underline">r/hackintosh Subreddit</a></li>
                                <li><a href="https://www.insanelymac.com/forum/" target="_blank" class="text-primary hover:underline">InsanelyMac Forums</a></li>
                                <li><a href="https://www.tonymacx86.com/forums/" target="_blank" class="text-primary hover:underline">Tonymacx86 Forums</a> (Note: Primarily Clover-focused in the past, but OpenCore discussion exists. Be mindful of their specific rules and software recommendations like UniBeast/MultiBeast which are generally not recommended for vanilla OpenCore installs).</li>
                            </ul>
                        </li>
                        <li><strong>Specific Laptop Guides/EFIs:</strong> Search GitHub for your laptop model + "Hackintosh" or "OpenCore EFI". Use these as references, not direct copy-paste solutions, as they might not be perfectly tailored or up-to-date for your exact hardware or desired macOS version.</li>
                    </ul>
                </div>
            </div>
        </section>


        <section id="components" class="py-12 bg-white rounded-xl card-shadow">
            <div class="text-center mb-12 px-4">
                <h2 class="text-3xl font-bold mb-2">Component Compatibility Checker</h2>
                <p class="text-medium max-w-2xl mx-auto">A Hackintosh is only as good as its parts. Use this tool to check the general compatibility of core components for macOS. This section helps you understand why certain laptops are recommended and allows you to research parts for other potential builds.</p>
            </div>
            <div class="px-4 md:px-8">
                <div id="component-tabs" class="flex flex-wrap justify-center gap-2 mb-8">
                    <!-- Component tabs will be injected here -->
                </div>
                <div id="component-content" class="mt-4">
                    <!-- Component content will be injected here -->
                </div>
            </div>
        </section>
        
        <section id="essentials" class="py-12">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-2">The Hackintosh Essentials</h2>
                <p class="text-medium max-w-2xl mx-auto">Beyond hardware, a successful build requires the right software, mindset, and resources. This section provides a high-level overview of the journey, emphasizing the tools and patience required for success.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-xl card-shadow">
                    <h3 class="text-2xl font-semibold mb-4 text-primary">The Build Process at a Glance (Simplified)</h3>
                    <div class="relative pl-8 space-y-8">
                        <div class="absolute left-4 h-full border-l-2 border-dashed border-gray-300 dark:border-gray-600"></div>
                        <div class="relative timeline-item">
                            <div class="absolute w-6 h-6 bg-primary rounded-full -left-11 border-4 border-white dark:border-gray-800 flex items-center justify-center text-white font-bold">1</div>
                            <h4 class="font-bold">Research & Planning</h4>
                            <p class="text-medium text-sm">Thoroughly vet your chosen laptop's components. Read the Dortania guides.</p>
                        </div>
                        <div class="relative timeline-item">
                           <div class="absolute w-6 h-6 bg-primary rounded-full -left-11 border-4 border-white dark:border-gray-800 flex items-center justify-center text-white font-bold">2</div>
                            <h4 class="font-bold">BIOS & USB Setup</h4>
                            <p class="text-medium text-sm">Configure BIOS settings and create a bootable macOS installer USB with OpenCore.</p>
                        </div>
                        <div class="relative timeline-item">
                               <div class="absolute w-6 h-6 bg-primary rounded-full -left-11 border-4 border-white dark:border-gray-800 flex items-center justify-center text-white font-bold">3</div>
                            <h4 class="font-bold">Installation</h4>
                            <p class="text-medium text-sm">Boot from the USB and install macOS. This step often requires troubleshooting.</p>
                        </div>
                        <div class="relative timeline-item">
                               <div class="absolute w-6 h-6 bg-primary rounded-full -left-11 border-4 border-white dark:border-gray-800 flex items-center justify-center text-white font-bold">4</div>
                            <h4 class="font-bold">Post-Install Tuning</h4>
                            <p class="text-medium text-sm">Copy the EFI to the main drive and fix remaining issues (Wi-Fi, audio, USB mapping, sleep, etc.).</p>
                        </div>
                    </div>
                     <p class="mt-4 text-medium text-sm">For a detailed step-by-step process, see the <a href="#laptop-builds" class="text-primary hover:underline">Laptop Builds</a> section.</p>
                </div>
                 <div class="bg-white p-6 rounded-xl card-shadow">
                    <h3 class="text-2xl font-semibold mb-4 text-primary">Core Philosophy & Resources</h3>
                    <p class="text-medium mb-4">Success in Hackintoshing requires time, patience, and a willingness to learn. It's a rewarding hobby, but not a replacement for a real Mac if you need 100% flawless reliability out of the box.</p>
                     <ul class="space-y-3">
                        <li><a href="https://dortania.github.io/OpenCore-Install-Guide/" target="_blank" class="font-semibold text-primary hover:underline">▶ Dortania OpenCore Guide: The #1 resource. Read it.</a></li>
                        <li><a href="https://www.reddit.com/r/hackintosh/" target="_blank" class="font-semibold text-primary hover:underline">▶ r/hackintosh Subreddit: Active community forum.</a></li>
                        <li><a href="https://github.com/acidanthera" target="_blank" class="font-semibold text-primary hover:underline">▶ Acidanthera on GitHub: Home of OpenCore & essential kexts.</a></li>
                        <li><a href="https://www.tonymacx86.com/forums/" target="_blank" class="font-semibold text-primary hover:underline">▶ Tonymacx86 Forums: Large community with guides and support.</a></li>
                        <li><a href="https://www.insanelymac.com/forum/" target="_blank" class="font-semibold text-primary hover:underline">▶ InsanelyMac Forums: Another long-standing Hackintosh community.</a></li>
                    </ul>
                     <p class="text-medium mt-6 text-sm"><strong>Remember:</strong> macOS updates can break things. Always back up your working EFI and entire system before updating!</p>
                </div>
            </div>
        </section>

        <section id="where-to-buy" class="py-12 bg-white rounded-xl card-shadow">
            <div class="text-center mb-12 px-4">
                <h2 class="text-3xl font-bold mb-2">Where to Buy Used Laptops</h2>
                <p class="text-medium max-w-2xl mx-auto">Finding a good deal on a used Hackintosh-compatible laptop requires some patience and research. Here are some popular platforms and tips:</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 px-4 md:px-8">
                <div class="content-section !p-4 !mb-0"> <!-- Using content-section for consistent styling -->
                    <h3 class="!text-lg">eBay</h3>
                    <p class="text-medium text-sm mb-2">A vast marketplace for new and used laptops. Use specific model numbers (e.g., "ThinkPad T480") and check seller ratings carefully.</p>
                    <ul class="list-disc list-inside text-sm text-medium space-y-1">
                        <li>Look for detailed descriptions and actual photos.</li>
                        <li>Check return policies and buyer protection.</li>
                        <li>Be wary of "too good to be true" prices.</li>
                    </ul>
                    <a href="https://www.ebay.com" target="_blank" class="inline-block mt-3 text-primary font-semibold hover:underline">Visit eBay →</a>
                </div>
                <div class="content-section !p-4 !mb-0">
                    <h3 class="!text-lg">Local Classifieds</h3>
                    <p class="text-medium text-sm mb-2">Websites like Facebook Marketplace, Craigslist (use with caution), or local equivalents can offer good deals. Inspect the laptop in person if possible.</p>
                    <ul class="list-disc list-inside text-sm text-medium space-y-1">
                        <li>Meet in a safe, public place.</li>
                        <li>Test basic functionality (screen, keyboard, ports).</li>
                        <li>Negotiate politely.</li>
                    </ul>
                </div>
                <div class="content-section !p-4 !mb-0">
                    <h3 class="!text-lg">Refurbished Laptop Retailers</h3>
                    <p class="text-medium text-sm mb-2">Many online retailers specialize in refurbished business laptops (e.g., Dell Outlet, Lenovo Outlet, Amazon Renewed, Newegg Refurbished). These often come with a limited warranty.</p>
                     <ul class="list-disc list-inside text-sm text-medium space-y-1">
                        <li>Check warranty terms and condition grades.</li>
                        <li>Ensure the model matches known compatible configurations.</li>
                    </ul>
                </div>
            </div>
            <p class="text-center text-medium mt-8 px-4"><strong>General Tip:</strong> Always research the specific model's Hackintosh compatibility *before* purchasing. Check forums for user experiences with that exact model or configuration.</p>
        </section>

        <section id="troubleshooting" class="py-12">
            <div class="text-center mb-12 px-4">
                <h2 class="text-3xl font-bold mb-2">Basic Troubleshooting Guide</h2>
                <p class="text-medium max-w-2xl mx-auto">Hackintoshing can involve some trial and error. Here are a few common issues and starting points for solutions. Always refer to Dortania's OpenCore Install Guide for detailed troubleshooting.</p>
            </div>
            <div class="space-y-8 px-4 md:px-8">
                <div class="content-section card-shadow">
                    <h3>Kernel Panics During Boot/Install</h3>
                    <ul>
                        <li><strong>Incorrect BIOS Settings:</strong> Double-check all required BIOS settings (VT-d disabled, CFG Lock disabled, Secure Boot disabled, etc.).</li>
                        <li><strong>Missing/Incorrect Kexts:</strong> Ensure VirtualSMC, Lilu, WhateverGreen, and CPU-specific power management kexts are present and up-to-date.</li>
                        <li><strong>Incorrect `config.plist` Setup:</strong> Verify ACPI patches, DeviceProperties for iGPU, SMBIOS, and kernel patches. Use ProperTree to edit.</li>
                        <li><strong>USB Port Issues:</strong> Try different USB ports (USB 2.0 often more reliable for install). Ensure USB mapping is correct post-install.</li>
                        <li><strong>Verbose Mode:</strong> Boot with `-v` flag to see where it hangs. Search the last few lines for clues.</li>
                    </ul>
                </div>
                <div class="content-section card-shadow">
                    <h3>No Graphics Acceleration (Laggy UI)</h3>
                     <ul>
                        <li><strong>iGPU Not Configured:</strong> Ensure correct `AAPL,ig-platform-id` and other DeviceProperties are set for your Intel iGPU in `config.plist`.</li>
                        <li><strong>WhateverGreen Missing/Outdated:</strong> This kext is essential for graphics.</li>
                        <li><strong>Unsupported dGPU Active:</strong> If your laptop has an NVIDIA dGPU, it must be disabled via SSDT patches.</li>
                        <li><strong>Incorrect SMBIOS:</strong> Use an SMBIOS that matches your CPU generation and iGPU type.</li>
                    </ul>
                </div>
                <div class="content-section card-shadow">
                    <h3>No Wi-Fi / Bluetooth</h3>
                    <ul>
                        <li><strong>Incompatible Wi-Fi Card:</strong> Many stock cards (Realtek, some Killer/Atheros) don't work. Replace with a compatible Broadcom or Intel card.</li>
                        <li><strong>Missing Kexts:</strong> For Intel cards, use `AirportItlwm.kext` or `itlwm.kext` + `HeliPort.app`. For Broadcom, `AirportBrcmFixup.kext` and related Bluetooth kexts (`BrcmPatchRAM`, `BrcmFirmwareData`).</li>
                        <li><strong>USB Mapping (for Bluetooth):</strong> Internal Bluetooth often connects via USB. Ensure USB ports are correctly mapped.</li>
                        <li><strong>OCLP Patches:</strong> Some Broadcom cards require OpenCore Legacy Patcher's root patches on newer macOS versions.</li>
                    </ul>
                </div>
                <div class="content-section card-shadow">
                    <h3>No Audio</h3>
                    <ul>
                        <li><strong>AppleALC.kext Missing/Outdated:</strong> This is the primary kext for audio.</li>
                        <li><strong>Incorrect `alcid` (Layout ID):</strong> Find the correct layout ID for your audio codec (e.g., ALC257) and set it as a boot argument (`alcid=X`) or in DeviceProperties.</li>
                        <li><strong>Codec Not Supported:</strong> Rare, but some codecs have poor or no support.</li>
                    </ul>
                </div>
            </div>
            <p class="text-center text-medium mt-8 px-4">This is not an exhaustive list. The Hackintosh community is your best resource. When asking for help, provide detailed information about your hardware, OpenCore version, `config.plist` (remove serials!), and verbose boot logs.</p>
        </section>

        <section id="blog" class="py-12 bg-white rounded-xl card-shadow">
            <div class="text-center mb-12 px-4">
                <h2 class="text-3xl font-bold mb-2">Hackintosh Insights Blog</h2>
                <p class="text-medium max-w-2xl mx-auto">Tips, tutorials, and news from the world of Hackintoshing. (This section would typically be powered by a static site generator like Jekyll or Hugo for a GitHub Pages hosted site).</p>
            </div>
            <div class="px-4 md:px-8 space-y-6">
                <div class="p-6 border dark:border-gray-700 rounded-lg">
                    <h3 class="text-xl font-semibold mb-2 text-primary">Sample Post: Understanding OpenCore Basics</h3>
                    <p class="text-sm text-light mb-2">June 4, 2025</p>
                    <p class="text-medium text-sm">OpenCore is the bootloader of choice for modern Hackintoshes, offering a more robust and future-proof solution compared to older methods... <a href="#" class="text-primary hover:underline">Read More →</a></p>
                </div>
                <div class="p-6 border dark:border-gray-700 rounded-lg">
                    <h3 class="text-xl font-semibold mb-2 text-primary">Sample Post: Choosing Your First Hackintosh Laptop</h3>
                    <p class="text-sm text-light mb-2">May 28, 2025</p>
                    <p class="text-medium text-sm">Picking the right hardware is crucial for a smooth Hackintosh experience. This post dives into what to look for in a beginner-friendly laptop... <a href="#" class="text-primary hover:underline">Read More →</a></p>
                </div>
            </div>
             <p class="text-center text-medium mt-8 px-4">More posts coming soon!</p>
        </section>


    </main>
    
    <!-- Laptop Detail Modal (now full-screen overlay) -->
    <div id="laptop-modal" class="fixed inset-0 z-50 modal-bg hidden"> <!-- Removed: items-center justify-center p-4 -->
        <div class="bg-white dark:bg-gray-800 w-full h-full overflow-y-auto"> <!-- Removed: rounded-xl shadow-2xl max-w-4xl max-h-[90vh] -->
            <div class="sticky top-0 bg-white dark:bg-gray-800 p-4 border-b dark:border-gray-700 flex justify-between items-center">
                <h2 id="modal-title" class="text-2xl font-bold"></h2>
                <button id="modal-close-btn" class="text-2xl font-bold text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white">&times;</button>
            </div>
            <div id="modal-content" class="p-6">
                <!-- Content injected by JS -->
            </div>
        </div>
    </div>

    <!-- Laptop Comparison Modal -->
    <div id="comparison-modal" class="fixed inset-0 z-[60] modal-bg hidden items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto dark:bg-gray-800">
            <div class="sticky top-0 bg-white dark:bg-gray-800 p-4 border-b dark:border-gray-700 flex justify-between items-center">
                <h2 id="comparison-modal-title" class="text-2xl font-bold">Laptop Comparison</h2>
                <button id="comparison-modal-close-btn" class="text-2xl font-bold text-gray-500 hover:text-gray-800 dark:text-gray-400 dark:hover:text-white">&times;</button>
            </div>
            <div id="comparison-modal-content" class="p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Comparison content injected by JS -->
            </div>
        </div>
    </div>


    <script>
        const laptopData = {
            // Existing Laptops from previous version
            "t480": {
                name: "Lenovo ThinkPad T480",
                priority: ["ease", "budget"],
                image: "https://placehold.co/600x400/4A90E2/FFFFFF?text=ThinkPad+T480",
                score: 85,
                summary: "A community favorite known for its robustness, upgradeability, and extensive documentation, making it a top choice for beginners.",
                details: {
                    cpu: "8th Gen Intel U-Series (i5/i7)",
                    igpu: "Intel UHD 620 (Well Supported)",
                    dgpu: "NVIDIA MX150 (Must be disabled)",
                    wifi: "Intel (Replaceable). Works with kexts.",
                    audio: "Realtek ALC3287/ALC257",
                    trackpad: "Synaptics (SMBus/I2C/PS2)",
                    ram: "Up to 32GB DDR4 (2 slots), User Upgradeable",
                    storage: "M.2 NVMe SSD + optional 2.5\" SATA SSD/HDD bay",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3200, source: "Geekbench 5 Multi (i5-8250U)" },
                    pros: ["Excellent community support", "Highly upgradeable (RAM, SSD, Wi-Fi)", "Robust build quality", "Relatively straightforward setup"],
                    cons: ["dGPU models require disabling", "SD card reader can be inconsistent", "Thunderbolt 3 support can be finicky"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooPS2Controller", "VoodooRMI", "VoodooI2C", "IntelMausi", "OpenIntelWireless suite"],
                    chartData: [4, 3, 3, 5] // Ease, Perf, Port, Budget
                }
            },
            "x1c67": { // Covers X1 Carbon Gen 6 and Gen 7
                name: "Lenovo ThinkPad X1 Carbon (6th/7th Gen)",
                priority: ["ease", "performance"],
                image: "https://placehold.co/600x400/4A90E2/FFFFFF?text=X1+Carbon+6/7",
                score: 80,
                summary: "A premium, lightweight ultrabook that combines portability with strong Hackintosh compatibility, ideal for users on the go.",
                details: {
                    cpu: "8th Gen Intel U-Series (i5/i7, e.g. i7-8650U, i7-8565U)",
                    igpu: "Intel UHD 620 (Well Supported)",
                    dgpu: "None",
                    wifi: "Intel (Replaceable in Gen 6, often soldered in Gen 7 - check specific model). Works with OpenIntelWireless.",
                    audio: "Realtek ALC285/ALC3287 (Gen 6) / ALC3287 (Gen 7)",
                    trackpad: "Synaptics (I2C/SMBus)",
                    ram: "8GB/16GB LPDDR3 (Soldered)",
                    storage: "M.2 NVMe SSD",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3400, source: "Geekbench 5 Multi (i7-8650U)" },
                    pros: ["Premium, lightweight design", "Excellent keyboard", "Good community support"],
                    cons: ["RAM is soldered", "Wi-Fi soldered on some Gen 7 models", "Thunderbolt can be finicky"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "VoodooRMI", "OpenIntelWireless suite", "YogaSMC (optional for some features)"],
                    chartData: [4, 3, 5, 3] 
                }
            },
            "xps15-9570": { 
                name: "Dell XPS 15 (9570)",
                priority: ["performance"],
                image: "https://placehold.co/600x400/4A90E2/FFFFFF?text=Dell+XPS+15+9570",
                score: 75,
                summary: "A powerhouse with a high-performance H-series CPU and a beautiful display. Requires more setup work but rewards with great performance.",
                details: {
                    cpu: "8th Gen Intel H-Series (i5/i7/i9)",
                    igpu: "Intel UHD 630 (Well Supported)",
                    dgpu: "NVIDIA GTX 1050/Ti (MUST be disabled)",
                    wifi: "Killer (Must be replaced with Broadcom/Intel)",
                    audio: "Realtek ALC3266/ALC298",
                    trackpad: "Synaptics (I2C)",
                    ram: "Up to 32GB DDR4 (2 slots), User Upgradeable",
                    storage: "M.2 NVMe SSD",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 5500, source: "Geekbench 5 Multi (i7-8750H)" },
                    pros: ["Powerful H-series CPU", "Excellent 4K display option", "Good iGPU performance"],
                    cons: ["NVIDIA dGPU MUST be disabled via complex ACPI patches", "Stock Killer Wi-Fi card requires replacement", "Thunderbolt hot-plug is often unreliable"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "Custom SSDTs for dGPU disable", "AirportBrcmFixup or OpenIntelWireless for replacement Wi-Fi"],
                    chartData: [2, 5, 3, 3] 
                }
            },
            "xps13-9370": { // Also generally covers 9380
                name: "Dell XPS 13 (9370/9380)",
                priority: ["ease"],
                image: "https://placehold.co/600x400/4A90E2/FFFFFF?text=Dell+XPS+13+9370",
                score: 65, // Score lowered due to known issues
                summary: "A compact and stylish ultrabook with 8th Gen Intel. Good base compatibility, but audio jack and Wi-Fi need attention.",
                details: {
                    cpu: "8th Gen Intel U-Series (i5/i7)",
                    igpu: "Intel UHD 620 (Well Supported)",
                    dgpu: "None",
                    wifi: "Killer (Must be replaced with Broadcom/Intel)",
                    audio: "Realtek ALC3271 (Audio jack issues common, may require ComboJack or specific patches)",
                    trackpad: "Synaptics/ELAN (I2C)",
                    ram: "8GB/16GB LPDDR3 (Soldered)",
                    storage: "M.2 NVMe SSD",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3300, source: "Geekbench 5 Multi (i7-8550U)" },
                    pros: ["Very compact and portable", "Premium design and display"],
                    cons: ["3.5mm Audio Jack often non-functional or requires complex fixes", "Stock Killer Wi-Fi card requires replacement", "Soldered RAM"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "AirportBrcmFixup or OpenIntelWireless for replacement Wi-Fi", "ComboJack (for audio jack if needed)"],
                    chartData: [3, 3, 5, 2]
                }
            },
            "t470": {
                name: "Lenovo ThinkPad T470",
                priority: ["budget"],
                image: "https://placehold.co/600x400/4A90E2/FFFFFF?text=ThinkPad+T470",
                score: 70,
                summary: "An older but still very capable budget option. Great for learning and running modern macOS versions with some community effort.",
                details: {
                    cpu: "7th Gen Intel U-Series (i5/i7)",
                    igpu: "Intel HD 620 (Well Supported)",
                    dgpu: "None",
                    wifi: "Intel (Replaceable). Works with kexts.",
                    audio: "Realtek ALC3268/ALC298",
                    trackpad: "Synaptics (SMBus/PS2)",
                    ram: "Up to 32GB DDR4 (2 slots), User Upgradeable",
                    storage: "M.2 NVMe SSD (some models) or 2.5\" SATA SSD",
                    macosSupport: { min: "macOS Sierra 10.12", max: "macOS Sonoma 14.x (with OCLP for some features)" },
                    cpuBenchmark: { score: 2800, source: "Geekbench 5 Multi (i5-7200U)" },
                    pros: ["Very affordable", "Good community support for its age", "Upgradeable RAM/Storage"],
                    cons: ["Older CPU generation", "Less performance for demanding tasks", "May require more patching for newer macOS features"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooPS2Controller", "VoodooRMI", "IntelMausi", "OpenIntelWireless suite"],
                    chartData: [3, 2, 4, 5]
                }
            },
            "xps13-9360": {
                name: "Dell XPS 13 (9360)",
                priority: ["budget", "ease"],
                image: "https://placehold.co/600x400/4A90E2/FFFFFF?text=Dell+XPS+13+9360",
                score: 72,
                summary: "A popular older XPS model (7th Gen Intel), good for Hackintoshing on a budget. Requires Wi-Fi card replacement.",
                details: {
                    cpu: "7th Gen Intel U-Series (i5/i7)",
                    igpu: "Intel HD 620 / Iris Plus 640 (Well Supported)",
                    dgpu: "None",
                    wifi: "Broadcom/Killer (Usually needs replacement with compatible Broadcom or Intel)",
                    audio: "Realtek ALC3246/ALC298",
                    trackpad: "Synaptics (I2C)",
                    ram: "8GB/16GB LPDDR3 (Soldered)",
                    storage: "M.2 NVMe/SATA SSD",
                    macosSupport: { min: "macOS Sierra 10.12", max: "macOS Ventura 13.x (Sonoma with OCLP)" },
                    cpuBenchmark: { score: 2900, source: "Geekbench 5 Multi (i7-7500U)" },
                    pros: ["Good build quality", "Excellent display", "Relatively easy setup once Wi-Fi is sorted"],
                    cons: ["Wi-Fi card replacement necessary", "Soldered RAM", "Battery life can be average"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "AirportBrcmFixup or OpenIntelWireless for replacement Wi-Fi"],
                    chartData: [4, 2, 5, 4]
                }
            },
            // x1c6 is covered by x1c67
            "spectre-x360-15t": { // This is for 15-inch H series
                name: "HP Spectre x360 15t (8th/9th Gen Intel H)",
                priority: ["performance"],
                image: "https://placehold.co/600x400/4A90E2/FFFFFF?text=HP+Spectre+x360+15",
                score: 60, 
                summary: "Powerful and stylish 15-inch convertible, but HP laptops can be more challenging for Hackintosh, especially with dGPU.",
                details: {
                    cpu: "8th/9th Gen Intel H-Series (e.g., i7-8750H, i7-9750H)",
                    igpu: "Intel UHD 630",
                    dgpu: "NVIDIA GTX 1050Ti/1650 (Must be disabled)",
                    wifi: "Intel (Often soldered, check specific model), works with OpenIntelWireless",
                    audio: "Realtek (Varies, may need specific layout ID, Conexant on some models - can be very tricky)",
                    trackpad: "Synaptics/ELAN (I2C, can be tricky)",
                    ram: "8GB/16GB DDR4 (Often soldered or 1 slot accessible)",
                    storage: "M.2 NVMe SSD",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 5800, source: "Geekbench 5 Multi (i7-9750H est.)" },
                    pros: ["Very powerful CPU", "Excellent 4K display options", "Premium 2-in-1 design"],
                    cons: ["HP BIOS can be restrictive (CFG Lock)", "dGPU disabling essential and can be complex", "Touchscreen/Pen support hit-or-miss", "Audio can be very problematic (especially Conexant)"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C (if applicable)", "OpenIntelWireless", "SSDTs for disabling dGPU and fixing functions (HPET, IRQ)"],
                    chartData: [2, 5, 4, 2]
                }
            },
            "xps13-9300": {
                name: "Dell XPS 13 (9300, 10th Gen Ice Lake)",
                priority: ["performance", "ease"],
                image: "https://placehold.co/600x400/4A90E2/FFFFFF?text=Dell+XPS+13+9300",
                score: 78,
                summary: "Modern XPS with Ice Lake CPU and Iris Plus graphics, generally good compatibility. Check for soldered SSD.",
                details: {
                    cpu: "10th Gen Intel Ice Lake U-Series (i5/i7)",
                    igpu: "Intel Iris Plus Graphics (G4/G7, Well Supported)",
                    dgpu: "None",
                    wifi: "Killer AX1650 (Intel based, works with OpenIntelWireless) or AX500-DBS (Soldered, check model!)",
                    audio: "Realtek ALC3271/ALC711 (Audio jack issues less common than 9370/80 but possible)",
                    trackpad: "Synaptics/ELAN (I2C)",
                    ram: "8GB/16GB/32GB LPDDR4X (Soldered)",
                    storage: "M.2 NVMe SSD (Soldered on some configs, check!)",
                    macosSupport: { min: "macOS Catalina 10.15.4", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 4200, source: "Geekbench 5 Multi (i7-1065G7)" },
                    pros: ["Excellent Iris Plus graphics performance", "Modern design, very compact", "Good battery life"],
                    cons: ["Soldered RAM and potentially soldered SSD (verify model!)", "Wi-Fi can be tricky if not Intel AX200 based Killer card", "Thermal throttling under heavy load"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "OpenIntelWireless"],
                    chartData: [4, 4, 5, 3]
                }
            },
            "t440p": {
                name: "Lenovo ThinkPad T440p",
                priority: ["budget"],
                image: "https://placehold.co/600x400/4A90E2/FFFFFF?text=ThinkPad+T440p",
                score: 75, 
                summary: "A classic, highly upgradeable budget Hackintosh. Socketed CPU allows for significant performance boosts.",
                details: {
                    cpu: "4th Gen Intel M/MQ-Series (Socketed, i5/i7, upgradeable to Quad Core i7)",
                    igpu: "Intel HD 4600 (Well Supported)",
                    dgpu: "NVIDIA GT 730M (Optional, must be disabled or not present)",
                    wifi: "Various (Usually needs replacement with compatible Broadcom or Atheros)",
                    audio: "Realtek ALC3232/ALC292",
                    trackpad: "Synaptics (Replaceable 'clunkpad', often swapped for T450s trackpad)",
                    ram: "Up to 16GB DDR3L (2 slots), User Upgradeable",
                    storage: "2.5\" SATA SSD/HDD + M.2 SATA SSD (via WWAN slot adapter)",
                    macosSupport: { min: "OS X Mavericks 10.9", max: "macOS Monterey 12.x (Ventura/Sonoma with OCLP)" },
                    cpuBenchmark: { score: 2500, source: "Geekbench 5 Multi (i7-4700MQ upgrade)" },
                    pros: ["Extremely affordable", "Highly upgradeable (CPU, RAM, Storage, Trackpad, Screen)", "Robust build", "Large community"],
                    cons: ["Stock trackpad is poor", "Requires Wi-Fi card replacement", "Bulky compared to modern laptops", "Needs effort for best results"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooPS2Controller", "AirportBrcmFixup or other Wi-Fi kext"],
                    chartData: [3, 3, 2, 5] 
                }
            },
            "x230": {
                name: "Lenovo ThinkPad X230",
                priority: ["budget"],
                image: "https://placehold.co/600x400/4A90E2/FFFFFF?text=ThinkPad+X230",
                score: 68,
                summary: "A very cheap and compact older ThinkPad. Great for learning, but limited by its 3rd Gen Intel platform.",
                details: {
                    cpu: "3rd Gen Intel M-Series (i5/i7)",
                    igpu: "Intel HD 4000 (Well Supported)",
                    dgpu: "None",
                    wifi: "Various (Usually needs replacement, often with Atheros AR9285 or specific Broadcom)",
                    audio: "Conexant CX20671/CX20590",
                    trackpad: "Synaptics (Classic ThinkPad trackpad)",
                    ram: "Up to 16GB DDR3 (2 slots), User Upgradeable",
                    storage: "2.5\" SATA SSD/HDD + mSATA SSD slot",
                    macosSupport: { min: "OS X Mountain Lion 10.8", max: "macOS Catalina 10.15 (Monterey/Ventura with OCLP, limited features)" },
                    cpuBenchmark: { score: 1500, source: "Geekbench 5 Multi (i5-3320M)" },
                    pros: ["Very cheap", "Compact and durable", "Classic ThinkPad keyboard (can be modded with X220 keyboard)", "Good for basic tasks"],
                    cons: ["Old platform, limited performance", "Wi-Fi replacement essential", "No native USB3 support without DSDT patches or kexts on some macOS versions", "Screen resolution is low (1366x768) unless IPS modded"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooPS2Controller"],
                    chartData: [3, 1, 4, 5]
                }
            },
            "precision-5530": { // Also covers 5520, 5540 generally
                name: "Dell Precision 5520/5530/5540",
                priority: ["performance"],
                image: "https://placehold.co/600x400/4A90E2/FFFFFF?text=Precision+55x0",
                score: 70, 
                summary: "Workstation version of XPS 15 (7th-9th Gen H/Xeon). Powerful but dGPU (Quadro) needs disabling. Similar challenges to XPS 15.",
                details: {
                    cpu: "7th-9th Gen Intel H-Series (i5/i7/i9, Xeon)",
                    igpu: "Intel HD/UHD 630 / P630 (Xeon)",
                    dgpu: "NVIDIA Quadro (e.g., M1200, P1000/P2000, T1000/T2000) (MUST be disabled)",
                    wifi: "Intel/Killer (Must be replaced or use OpenIntelWireless)",
                    audio: "Realtek ALC3266/ALC298",
                    trackpad: "Synaptics (I2C)",
                    ram: "Up to 64GB DDR4 (2 slots, ECC option with Xeon), User Upgradeable",
                    storage: "M.2 NVMe SSD (Often 2 slots)",
                    macosSupport: { min: "macOS Sierra 10.12 (7th Gen) / Mojave 10.14 (8th/9th Gen)", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 6000, source: "Geekbench 5 Multi (Xeon E-2176M est.)" },
                    pros: ["Extremely powerful CPU options", "ECC RAM support (with Xeon)", "Often dual NVMe slots", "Robust build"],
                    cons: ["Quadro dGPU MUST be disabled (similar complexity to GTX)", "Can be expensive", "Wi-Fi replacement often needed"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "SSDTs for dGPU disable", "AirportBrcmFixup or OpenIntelWireless for replacement Wi-Fi"],
                    chartData: [2, 5, 3, 2]
                }
            },
             "t490": {
                name: "Lenovo ThinkPad T490",
                priority: ["ease", "performance"],
                image: "https://placehold.co/600x400/4A90E2/FFFFFF?text=ThinkPad+T490",
                score: 82,
                summary: "A solid successor to the T480, offering good performance and compatibility with 8th/10th Gen Intel CPUs. Still a great choice for Hackintosh.",
                details: {
                    cpu: "8th/10th Gen Intel U-Series (i5/i7, e.g., i5-8265U, i7-10510U)",
                    igpu: "Intel UHD 620 (Well Supported)",
                    dgpu: "NVIDIA MX250 (Optional, must be disabled)",
                    wifi: "Intel (Usually replaceable or works with OpenIntelWireless)",
                    audio: "Realtek ALC3287/ALC257",
                    trackpad: "Synaptics (SMBus/I2C/PS2)",
                    ram: "Up to 40GB/48GB DDR4 (Some soldered + 1 slot)",
                    storage: "M.2 NVMe SSD",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3500, source: "Geekbench 5 Multi (i5-8265U)" },
                    pros: ["Good community support", "Relatively modern specs", "Good keyboard and build"],
                    cons: ["dGPU models require disabling", "Some RAM might be soldered", "Thunderbolt can be tricky"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooPS2Controller", "VoodooRMI", "VoodooI2C", "IntelMausi", "OpenIntelWireless suite"],
                    chartData: [4, 3, 4, 3]
                }
            },
            "latitude7x90": { // Covers 7490 and 7390
                name: "Dell Latitude 7490 / 7390",
                priority: ["ease", "budget"],
                image: "https://placehold.co/600x400/4A90E2/FFFFFF?text=Latitude+7x90",
                score: 78,
                summary: "A business-class laptop with 8th Gen Intel CPUs, similar in capability to the T480. Good compatibility and often found at reasonable prices.",
                details: {
                    cpu: "8th Gen Intel U-Series (i5/i7, e.g., i5-8350U, i7-8650U)",
                    igpu: "Intel UHD 620 (Well Supported)",
                    dgpu: "None",
                    wifi: "Intel (Usually replaceable, works with OpenIntelWireless) or Qualcomm (replace)",
                    audio: "Realtek ALC3246/ALC295",
                    trackpad: "ALPS/Synaptics (I2C/PS2)",
                    ram: "Up to 32GB DDR4 (2 slots), User Upgradeable",
                    storage: "M.2 NVMe/SATA SSD",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3300, source: "Geekbench 5 Multi (i5-8350U)" },
                    pros: ["Solid build quality", "Upgradeable RAM and SSD", "Good keyboard", "Often affordable"],
                    cons: ["Trackpad can vary (ALPS sometimes less ideal than Synaptics)", "Check Wi-Fi card before buying, may need replacement if Qualcomm"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "VoodooPS2Controller", "IntelMausi", "OpenIntelWireless suite"],
                    chartData: [4, 3, 4, 4]
                }
            },
            "elitebook840g6": { // Also covers G5 generally
                name: "HP EliteBook 840 G5 / G6",
                priority: ["performance", "ease"],
                image: "https://placehold.co/600x400/4A90E2/FFFFFF?text=EliteBook+840+G56",
                score: 75,
                summary: "A sleek business ultrabook with 8th Gen Intel CPUs. HP laptops can be more challenging but G5/G6 have decent compatibility reports.",
                details: {
                    cpu: "7th/8th Gen Intel U-Series (i5/i7, e.g., i5-8265U, i7-8565U)",
                    igpu: "Intel HD/UHD 620 (Well Supported)",
                    dgpu: "Optional AMD Radeon 550X/RX540 (Needs specific configuration/disabling if problematic)",
                    wifi: "Intel (Works with OpenIntelWireless)",
                    audio: "Conexant CX8200 (Can be tricky, may need specific layout-id or even `SSDT-HPET` fixes)",
                    trackpad: "Synaptics (I2C)",
                    ram: "Up to 32GB DDR4 (2 slots), User Upgradeable",
                    storage: "M.2 NVMe SSD",
                    macosSupport: { min: "macOS High Sierra 10.13 (G5) / Mojave 10.14 (G6)", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3450, source: "Geekbench 5 Multi (i7-8565U)" },
                    pros: ["Premium build quality and design", "Good display options", "Upgradeable RAM/SSD"],
                    cons: ["HP BIOS can be restrictive (CFG Lock often needs to be disabled via modded BIOS or specific quirks)", "Audio can be problematic (Conexant)", "AMD dGPU version needs careful handling"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC (with correct layout-id)", "VoodooI2C", "OpenIntelWireless suite", "SSDTTime for HPET/IRQ fixes might be needed"],
                    chartData: [3, 3, 4, 3]
                }
            },
            // New entries based on user list
            "xps15-9550": {
                name: "Dell XPS 15 (9550)",
                priority: ["performance", "budget"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=XPS+15+9550",
                score: 68,
                summary: "Older XPS 15 (6th Gen Intel H-series). Still capable but requires dGPU disable and Wi-Fi replacement.",
                details: {
                    cpu: "6th Gen Intel H-Series (Skylake, e.g., i7-6700HQ)",
                    igpu: "Intel HD 530 (Well Supported)",
                    dgpu: "NVIDIA GTX 960M (MUST be disabled)",
                    wifi: "Broadcom/Dell DW1830 (Stock, good) or Killer (Replace)",
                    audio: "Realtek ALC298",
                    trackpad: "Synaptics (I2C)",
                    ram: "Up to 32GB DDR4 (2 slots)",
                    storage: "M.2 NVMe/SATA SSD + 2.5\" SATA bay (on some configs)",
                    macosSupport: { min: "OS X El Capitan 10.11", max: "macOS Ventura 13.x (Sonoma with OCLP)" },
                    cpuBenchmark: { score: 4500, source: "Geekbench 5 Multi (i7-6700HQ est.)" },
                    pros: ["Affordable performance", "Good display options"],
                    cons: ["NVIDIA dGPU MUST be disabled", "Wi-Fi may need replacement if Killer", "Battery life can be average"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "SSDT-DGPU-DISABLE", "AirportBrcmFixup (if DW1830)"],
                    chartData: [2, 4, 3, 4]
                }
            },
            "xps15-9560": {
                name: "Dell XPS 15 (9560)",
                priority: ["performance"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=XPS+15+9560",
                score: 70,
                summary: "7th Gen Intel H-series XPS. Similar to 9550/9570, dGPU disable and Wi-Fi check are key.",
                details: {
                    cpu: "7th Gen Intel H-Series (Kaby Lake, e.g., i7-7700HQ)",
                    igpu: "Intel HD 630 (Well Supported)",
                    dgpu: "NVIDIA GTX 1050 (MUST be disabled)",
                    wifi: "Killer (Must be replaced with Broadcom/Intel)",
                    audio: "Realtek ALC298",
                    trackpad: "Synaptics (I2C)",
                    ram: "Up to 32GB DDR4 (2 slots)",
                    storage: "M.2 NVMe SSD",
                    macosSupport: { min: "macOS Sierra 10.12", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 5000, source: "Geekbench 5 Multi (i7-7700HQ est.)" },
                    pros: ["Good performance for the price", "Excellent display"],
                    cons: ["NVIDIA dGPU MUST be disabled", "Stock Killer Wi-Fi requires replacement"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "SSDT-DGPU-DISABLE", "AirportBrcmFixup or OpenIntelWireless for replacement Wi-Fi"],
                    chartData: [2, 4, 3, 3]
                }
            },
            "xps15-7590": {
                name: "Dell XPS 15 (7590)",
                priority: ["performance"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=XPS+15+7590",
                score: 72,
                summary: "9th Gen Intel H-series XPS. Powerful, but dGPU disable and potential Wi-Fi swap needed.",
                details: {
                    cpu: "9th Gen Intel H-Series (Coffee Lake Refresh, e.g., i7-9750H)",
                    igpu: "Intel UHD 630 (Well Supported)",
                    dgpu: "NVIDIA GTX 1650 (MUST be disabled)",
                    wifi: "Killer AX1650 (Intel-based, works with OpenIntelWireless) or other (check!)",
                    audio: "Realtek ALC298/ALC3266",
                    trackpad: "Synaptics (I2C)",
                    ram: "Up to 64GB DDR4 (2 slots)",
                    storage: "M.2 NVMe SSD (Often 2 slots)",
                    macosSupport: { min: "macOS Catalina 10.15", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 6000, source: "Geekbench 5 Multi (i7-9750H est.)" },
                    pros: ["Very powerful CPU", "OLED display option", "Often dual M.2 slots"],
                    cons: ["NVIDIA dGPU MUST be disabled", "Wi-Fi can be Killer AX based (good) or other (problematic)", "Thermals can be a concern"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "SSDT-DGPU-DISABLE", "OpenIntelWireless (if AX Killer card)"],
                    chartData: [2, 5, 3, 2]
                }
            },
            "lenovo-p52s": {
                name: "Lenovo ThinkPad P52s",
                priority: ["performance", "ease"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=ThinkPad+P52s",
                score: 70,
                summary: "Mobile workstation with 8th Gen U-series CPU and NVIDIA Quadro P500 (must be disabled). Similar to T480 with a dGPU.",
                details: {
                    cpu: "8th Gen Intel U-Series (i5/i7)",
                    igpu: "Intel UHD 620",
                    dgpu: "NVIDIA Quadro P500 (MUST be disabled)",
                    wifi: "Intel (Works with OpenIntelWireless)",
                    audio: "Realtek ALC3287/ALC257",
                    trackpad: "Synaptics (I2C/SMBus)",
                    ram: "Up to 32GB DDR4 (1 soldered + 1 slot or 2 slots, check config)",
                    storage: "M.2 NVMe SSD + optional 2.5\" bay",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3300, source: "Geekbench 5 Multi (i7-8650U est.)" },
                    pros: ["Good ThinkPad build", "Upgradeable storage", "Decent iGPU"],
                    cons: ["Quadro dGPU MUST be disabled", "Thunderbolt can be tricky"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "VoodooPS2Controller", "OpenIntelWireless", "SSDT-DGPU-DISABLE"],
                    chartData: [3, 3, 3, 3]
                }
            },
             "lenovo-p53s": {
                name: "Lenovo ThinkPad P53s",
                priority: ["performance", "ease"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=ThinkPad+P53s",
                score: 72,
                summary: "Similar to P52s but with 8th/10th Gen U-series CPU options and NVIDIA Quadro P520 (must be disabled).",
                details: {
                    cpu: "8th/10th Gen Intel U-Series (Whiskey Lake/Comet Lake)",
                    igpu: "Intel UHD 620",
                    dgpu: "NVIDIA Quadro P520 (MUST be disabled)",
                    wifi: "Intel (Works with OpenIntelWireless)",
                    audio: "Realtek ALC3287/ALC257",
                    trackpad: "Synaptics (I2C/SMBus)",
                    ram: "Up to 40GB/48GB DDR4 (Soldered + 1 slot)",
                    storage: "M.2 NVMe SSD",
                    macosSupport: { min: "macOS Catalina 10.15", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3600, source: "Geekbench 5 Multi (i7-10510U est.)" },
                    pros: ["Good ThinkPad build", "Modern CPU options", "Decent iGPU"],
                    cons: ["Quadro dGPU MUST be disabled", "Some RAM soldered", "Thunderbolt can be tricky"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "VoodooPS2Controller", "OpenIntelWireless", "SSDT-DGPU-DISABLE"],
                    chartData: [3, 4, 3, 3]
                }
            },
            "lenovo-l480": {
                name: "Lenovo ThinkPad L480",
                priority: ["budget", "ease"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=ThinkPad+L480",
                score: 77,
                summary: "Budget-friendly 14-inch ThinkPad with 8th Gen Intel U-series. Good alternative to T480.",
                details: {
                    cpu: "8th Gen Intel U-Series (i3/i5/i7)",
                    igpu: "Intel UHD 620",
                    dgpu: "Optional AMD Radeon 530 (MUST be disabled or ensure model is iGPU only)",
                    wifi: "Intel/Realtek (Replace if Realtek, Intel works with OpenIntelWireless)",
                    audio: "Realtek ALC257/ALC3287",
                    trackpad: "Synaptics (I2C/SMBus)",
                    ram: "Up to 32GB DDR4 (2 slots)",
                    storage: "M.2 NVMe SSD + optional 2.5\" bay",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3100, source: "Geekbench 5 Multi (i5-8250U est.)" },
                    pros: ["Affordable", "Upgradeable", "Good keyboard"],
                    cons: ["AMD dGPU version needs dGPU disabled", "Check Wi-Fi card"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "VoodooPS2Controller", "OpenIntelWireless (if Intel Wi-Fi)", "SSDT-DGPU-DISABLE (if dGPU present)"],
                    chartData: [4, 3, 3, 4]
                }
            },
            "lenovo-l490": {
                name: "Lenovo ThinkPad L490",
                priority: ["budget", "ease"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=ThinkPad+L490",
                score: 78,
                summary: "Successor to L480, with 8th/10th Gen Intel U-series. Solid budget choice.",
                details: {
                    cpu: "8th/10th Gen Intel U-Series (Whiskey Lake/Comet Lake)",
                    igpu: "Intel UHD 620",
                    dgpu: "Optional AMD Radeon 535/RX 550X (MUST be disabled or ensure model is iGPU only)",
                    wifi: "Intel (Works with OpenIntelWireless)",
                    audio: "Realtek ALC257/ALC3287",
                    trackpad: "Synaptics (I2C/SMBus)",
                    ram: "Up to 64GB DDR4 (2 slots)",
                    storage: "M.2 NVMe SSD + optional 2.5\" bay",
                    macosSupport: { min: "macOS Catalina 10.15", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3400, source: "Geekbench 5 Multi (i5-8265U est.)" },
                    pros: ["Affordable", "Upgradeable", "Modern CPU options"],
                    cons: ["AMD dGPU version needs dGPU disabled"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "VoodooPS2Controller", "OpenIntelWireless", "SSDT-DGPU-DISABLE (if dGPU present)"],
                    chartData: [4, 3, 3, 4]
                }
            },
            "ideapad-330s-14ikb": {
                name: "Lenovo IdeaPad 330S-14IKB / 330S-15IKB",
                priority: ["budget"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=IdeaPad+330S",
                score: 65,
                summary: "Budget IdeaPad with 8th Gen Intel. Can be Hackintoshed but requires more effort than ThinkPads. Check specific config.",
                details: {
                    cpu: "7th/8th Gen Intel U-Series (e.g. i5-8250U)",
                    igpu: "Intel HD/UHD 620",
                    dgpu: "Optional NVIDIA MX110/MX130/MX150 or AMD Radeon 535/540 (MUST be disabled)",
                    wifi: "Qualcomm Atheros/Realtek (Usually needs replacement with Intel/Broadcom)",
                    audio: "Realtek ALC236 / Conexant (Conexant is problematic)",
                    trackpad: "Synaptics/ELAN (I2C, ELAN can be tricky)",
                    ram: "4GB Soldered + 1 Slot (Up to 12GB/20GB)",
                    storage: "M.2 SATA/NVMe SSD + optional 2.5\" bay",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Ventura 13.x" },
                    cpuBenchmark: { score: 3000, source: "Geekbench 5 Multi (i5-8250U est.)" },
                    pros: ["Very affordable"],
                    cons: ["dGPU MUST be disabled", "Wi-Fi replacement almost always needed", "Audio can be tricky (especially Conexant)", "Build quality average", "BIOS limitations"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C (and satellites)", "SSDT-DGPU-DISABLE", "Replacement Wi-Fi kexts"],
                    chartData: [2, 3, 3, 5]
                }
            },
            "ideapad-530s-14ikb": {
                name: "Lenovo IdeaPad 530S-14IKB / 530S-15IKB",
                priority: ["budget"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=IdeaPad+530S",
                score: 68,
                summary: "Slightly more premium IdeaPad with 8th Gen Intel. Similar Hackintosh challenges to 330S but often better components.",
                details: {
                    cpu: "8th Gen Intel U-Series (e.g. i5-8250U, i7-8550U)",
                    igpu: "Intel UHD 620",
                    dgpu: "Optional NVIDIA MX130/MX150 (MUST be disabled)",
                    wifi: "Intel/Realtek (Replace if Realtek, Intel works with OpenIntelWireless)",
                    audio: "Realtek ALC236",
                    trackpad: "Synaptics/ELAN (I2C)",
                    ram: "Up to 16GB DDR4 (Soldered or 1 slot, check config)",
                    storage: "M.2 NVMe SSD",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Ventura 13.x" },
                    cpuBenchmark: { score: 3200, source: "Geekbench 5 Multi (i5-8250U est.)" },
                    pros: ["Affordable", "Decent build for the price"],
                    cons: ["dGPU MUST be disabled", "Check Wi-Fi card (replace if Realtek)", "BIOS limitations"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C (and satellites)", "SSDT-DGPU-DISABLE", "OpenIntelWireless (if Intel Wi-Fi)"],
                    chartData: [3, 3, 4, 4]
                }
            },
            "hp-probook-450g7": {
                name: "HP ProBook 450 G7",
                priority: ["ease"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=ProBook+450+G7",
                score: 70,
                summary: "Mainstream HP business laptop with 10th Gen Intel Comet Lake. Generally compatible but HP quirks apply.",
                details: {
                    cpu: "10th Gen Intel U-Series (Comet Lake, i3/i5/i7)",
                    igpu: "Intel UHD Graphics (Comet Lake GT1/GT2)",
                    dgpu: "Optional NVIDIA MX130/MX250 (MUST be disabled)",
                    wifi: "Intel (Works with OpenIntelWireless)",
                    audio: "Realtek ALC236/ALC3204",
                    trackpad: "Synaptics (I2C)",
                    ram: "Up to 32GB DDR4 (2 slots)",
                    storage: "M.2 NVMe SSD + 2.5\" bay",
                    macosSupport: { min: "macOS Catalina 10.15.4", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3500, source: "Geekbench 5 Multi (i5-10210U est.)" },
                    pros: ["Upgradeable", "Modern CPU"],
                    cons: ["HP BIOS (CFG Lock, etc.)", "dGPU MUST be disabled", "Audio might need specific layout"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "OpenIntelWireless", "SSDTs for HP (HPET, IRQ, DGPU disable)"],
                    chartData: [3, 3, 3, 3]
                }
            },
            "hp-spectre-x360-13-intel": { // Generic for 13-inch U series
                name: "HP Spectre x360 13 (8th-10th Gen Intel U)",
                priority: ["performance"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=Spectre+x360+13",
                score: 65,
                summary: "Premium 13-inch convertible. Hackintosh possible but expect HP-specific challenges (BIOS, audio, power management).",
                details: {
                    cpu: "8th-10th Gen Intel U-Series (Kaby Lake R, Whiskey Lake, Ice Lake, Comet Lake)",
                    igpu: "Intel UHD 620 / Iris Plus",
                    dgpu: "None",
                    wifi: "Intel (Often soldered, works with OpenIntelWireless)",
                    audio: "Conexant/Realtek (Conexant is very problematic, Realtek needs specific layout)",
                    trackpad: "Synaptics/ELAN (I2C)",
                    ram: "8GB/16GB LPDDR3/LPDDR4X (Soldered)",
                    storage: "M.2 NVMe SSD",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3800, source: "Geekbench 5 Multi (i7-1065G7 est.)" },
                    pros: ["Excellent design", "Great display", "Very portable"],
                    cons: ["HP BIOS limitations (CFG Lock)", "Audio is often a major pain point (Conexant!)", "Soldered RAM/Wi-Fi", "Touchscreen/pen support unreliable"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC (if Realtek, good luck if Conexant)", "VoodooI2C", "OpenIntelWireless", "Many custom SSDTs likely needed"],
                    chartData: [2, 4, 5, 2]
                }
            },
            "hp-zbook-studio-g5": { // Example ZBook
                name: "HP ZBook Studio G5 (Intel H)",
                priority: ["performance"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=ZBook+Studio+G5",
                score: 60,
                summary: "Powerful mobile workstation. Hackintosh is complex due to dGPU (Quadro) and HP specifics. For advanced users.",
                details: {
                    cpu: "8th Gen Intel H-Series (i7/Xeon)",
                    igpu: "Intel UHD 630 / P630",
                    dgpu: "NVIDIA Quadro P1000/P2000 (MUST be disabled)",
                    wifi: "Intel (Works with OpenIntelWireless)",
                    audio: "Conexant (Likely problematic)",
                    trackpad: "Synaptics (I2C)",
                    ram: "Up to 64GB DDR4 (ECC with Xeon)",
                    storage: "M.2 NVMe SSD (Often dual slots)",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 6000, source: "Geekbench 5 Multi (i7-8850H est.)" },
                    pros: ["Extremely powerful", "Professional build", "Great displays"],
                    cons: ["HP BIOS", "Quadro dGPU MUST be disabled (complex)", "Conexant audio is a nightmare", "Heavy and expensive"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC (maybe?)", "VoodooI2C", "OpenIntelWireless", "Extensive custom SSDTs for DGPU, HPET, IRQ etc."],
                    chartData: [1, 5, 2, 1]
                }
            },
            "asus-zenbook-ux430ua": {
                name: "ASUS ZenBook UX430UA/UX331UA (8th Gen)",
                priority: ["ease"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=ZenBook+UX430",
                score: 70,
                summary: "Popular ultrabook series with 8th Gen Intel. Good compatibility overall, but check specific model for Wi-Fi/audio.",
                details: {
                    cpu: "8th Gen Intel U-Series (i5/i7)",
                    igpu: "Intel UHD 620",
                    dgpu: "Optional NVIDIA MX150 (UX430UN/UX331UN - MUST be disabled)",
                    wifi: "Intel/Qualcomm Atheros (Replace if Qualcomm, Intel works with OpenIntelWireless)",
                    audio: "Conexant/Realtek (Conexant problematic, Realtek ALC294/ALC255 common)",
                    trackpad: "ELAN/FocalTech (I2C - VoodooI2C needed, FocalTech can be less smooth)",
                    ram: "8GB/16GB LPDDR3/DDR4 (Often soldered)",
                    storage: "M.2 SATA/NVMe SSD",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3200, source: "Geekbench 5 Multi (i5-8250U est.)" },
                    pros: ["Slim and light", "Good displays"],
                    cons: ["dGPU (if present) MUST be disabled", "Wi-Fi may need replacement", "Audio can be tricky (Conexant)", "Soldered RAM common"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C (and ELAN/FocalTech satellites)", "OpenIntelWireless (if Intel Wi-Fi)", "SSDT-DGPU-DISABLE (if dGPU)"],
                    chartData: [3, 3, 5, 3]
                }
            },
            "asus-vivobook-s510un": {
                name: "ASUS VivoBook S15 S510UN / S14 S410UN",
                priority: ["budget"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=VivoBook+S510",
                score: 67,
                summary: "Mainstream ASUS VivoBook with 8th Gen Intel and MX150. dGPU disable is key.",
                details: {
                    cpu: "8th Gen Intel U-Series (i5/i7)",
                    igpu: "Intel UHD 620",
                    dgpu: "NVIDIA MX130/MX150 (MUST be disabled)",
                    wifi: "Intel/Qualcomm Atheros/Realtek (Replace if not Intel)",
                    audio: "Realtek ALC256/ALC294 or Conexant",
                    trackpad: "ELAN/FocalTech/Synaptics (I2C)",
                    ram: "4GB/8GB Soldered + 1 Slot (Up to 12GB/20GB/36GB)",
                    storage: "M.2 SATA/NVMe SSD + 2.5\" bay",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Ventura 13.x" },
                    cpuBenchmark: { score: 3100, source: "Geekbench 5 Multi (i5-8250U est.)" },
                    pros: ["Affordable", "Upgradeable storage/some RAM"],
                    cons: ["dGPU MUST be disabled", "Wi-Fi usually needs replacement", "Audio can be tricky", "Build quality is average"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C (and satellites)", "SSDT-DGPU-DISABLE", "Replacement Wi-Fi kexts"],
                    chartData: [2, 3, 3, 4]
                }
            },
            "asus-rog-intel": { // Generic for Intel ROG laptops
                name: "ASUS ROG Laptop (Intel H-Series)",
                priority: ["performance"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=ASUS+ROG+Intel",
                score: 55,
                summary: "Gaming laptops with powerful Intel H-series CPUs. Hackintosh is very complex due to NVIDIA dGPUs, custom hardware, and aggressive power management. For experts only.",
                details: {
                    cpu: "Intel H-Series (Various Gens)",
                    igpu: "Intel UHD/Iris Xe (Iris Xe problematic for iGPU output if newer gen)",
                    dgpu: "NVIDIA RTX/GTX (MUST be disabled, and often hard to do so effectively for internal display)",
                    wifi: "Intel (Usually works with OpenIntelWireless) or Mediatek (Replace)",
                    audio: "Realtek (Often with custom AMPs, can be tricky)",
                    trackpad: "ELAN/Synaptics (I2C)",
                    ram: "16GB+ DDR4/DDR5",
                    storage: "M.2 NVMe SSD (Often multiple slots)",
                    macosSupport: { min: "Varies by CPU Gen", max: "macOS Sonoma 14.x (highly dependent)" },
                    cpuBenchmark: { score: 7000, source: "Geekbench 5 Multi (High-end H-series est.)" },
                    pros: ["Extreme performance potential (CPU-wise)"],
                    cons: ["NVIDIA dGPU is primary challenge (disabling, routing display)", "Complex ACPI", "Custom keyboard/lighting often unsupported", "Thermals/power management difficult", "Not for beginners"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "OpenIntelWireless", "Many custom SSDTs required"],
                    chartData: [1, 5, 2, 1]
                }
            },
            "xiaomi-mi-notebook-pro-2019": { // Also covers 2020 generally
                name: "Xiaomi Mi Notebook Pro (2019/2020 Intel)",
                priority: ["ease", "performance"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=Mi+Notebook+Pro",
                score: 78,
                summary: "Popular for its MacBook-like design and good Hackintosh compatibility. 8th/10th Gen Intel U-series.",
                details: {
                    cpu: "8th Gen Whiskey Lake / 10th Gen Comet Lake U-Series (i5/i7)",
                    igpu: "Intel UHD 620",
                    dgpu: "NVIDIA MX150/MX250/MX350 (MUST be disabled)",
                    wifi: "Intel (Works with OpenIntelWireless)",
                    audio: "Realtek ALC256/ALC298",
                    trackpad: "Synaptics/ELAN (I2C)",
                    ram: "8GB/16GB DDR4 (Soldered)",
                    storage: "M.2 NVMe SSD (Often dual slots on 15-inch)",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3700, source: "Geekbench 5 Multi (i7-10510U est.)" },
                    pros: ["Great design", "Good display", "Strong community support", "Relatively straightforward"],
                    cons: ["dGPU MUST be disabled", "Soldered RAM", "Fingerprint sensor N/A"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "OpenIntelWireless", "SSDT-DGPU-DISABLE", "Custom SSDTs for brightness keys, etc."],
                    chartData: [4, 4, 4, 3]
                }
            },
            "msi-prestige-14-a10sc": {
                name: "MSI Prestige 14 (e.g., A10SC, Intel)",
                priority: ["performance"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=MSI+Prestige+14",
                score: 65,
                summary: "Thin and light MSI with 10th Gen Intel U and dedicated NVIDIA (must be disabled). BIOS can be tricky.",
                details: {
                    cpu: "10th Gen Intel U-Series (Comet Lake, i5/i7)",
                    igpu: "Intel UHD Graphics",
                    dgpu: "NVIDIA GTX 1650 Max-Q / MX250/MX330 (MUST be disabled)",
                    wifi: "Intel (Works with OpenIntelWireless)",
                    audio: "Realtek ALC298",
                    trackpad: "Synaptics (I2C)",
                    ram: "8GB/16GB LPDDR3/DDR4 (Soldered or single slot, check config)",
                    storage: "M.2 NVMe SSD",
                    macosSupport: { min: "macOS Catalina 10.15", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3800, source: "Geekbench 5 Multi (i7-10710U est.)" },
                    pros: ["Lightweight", "Good performance (CPU)"],
                    cons: ["dGPU MUST be disabled", "MSI BIOS can be limited/quirky", "Soldered RAM on some models", "Cooling might be a concern"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "OpenIntelWireless", "SSDT-DGPU-DISABLE"],
                    chartData: [2, 4, 4, 2]
                }
            },
             "msi-gs65-stealth": {
                name: "MSI GS65 Stealth Thin (8th Gen Intel)",
                priority: ["performance"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=MSI+GS65",
                score: 58,
                summary: "Powerful gaming laptop with 8th Gen Intel H-series. Very complex Hackintosh due to NVIDIA dGPU and custom features.",
                details: {
                    cpu: "8th Gen Intel H-Series (i7-8750H)",
                    igpu: "Intel UHD 630",
                    dgpu: "NVIDIA GTX 1060/1070 Max-Q (MUST be disabled)",
                    wifi: "Killer (Intel based - works with OpenIntelWireless, or Rivet - replace)",
                    audio: "Realtek ALC298/ALC1220 (Can be tricky with Nahimic)",
                    trackpad: "Synaptics (I2C)",
                    ram: "Up to 32GB DDR4 (2 slots)",
                    storage: "M.2 NVMe SSD (Often dual slots)",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Ventura 13.x" },
                    cpuBenchmark: { score: 5500, source: "Geekbench 5 Multi (i7-8750H est.)" },
                    pros: ["High CPU performance", "Good display (high refresh rate N/A in macOS)"],
                    cons: ["NVIDIA dGPU disable is critical and complex", "MSI BIOS quirks", "Custom lighting/keyboard features N/A", "Audio can be difficult"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "OpenIntelWireless (if Killer AX based)", "Extensive custom SSDTs"],
                    chartData: [1, 5, 3, 2]
                }
            },
            "acer-swift-3-sf314-57": { // Example Swift 3
                name: "Acer Swift 3 (e.g., SF314-57, 10th Gen Ice Lake)",
                priority: ["budget", "ease"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=Acer+Swift+3",
                score: 70,
                summary: "Affordable ultrabook with Intel CPUs. Compatibility varies by exact model; Ice Lake versions are decent.",
                details: {
                    cpu: "10th Gen Intel U-Series (Ice Lake, i5/i7) or older gens",
                    igpu: "Intel Iris Plus (Ice Lake) / UHD 620 (older gens)",
                    dgpu: "Optional NVIDIA MX250/MX350 (MUST be disabled)",
                    wifi: "Intel (Works with OpenIntelWireless) or Atheros/Realtek (Replace)",
                    audio: "Realtek ALC255/ALC256",
                    trackpad: "Synaptics/ELAN (I2C)",
                    ram: "8GB/16GB LPDDR4/DDR4 (Often soldered)",
                    storage: "M.2 NVMe SSD",
                    macosSupport: { min: "macOS Catalina 10.15.4 (Ice Lake)", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3900, source: "Geekbench 5 Multi (i7-1065G7 est.)" },
                    pros: ["Good value", "Lightweight", "Iris Plus graphics (Ice Lake)"],
                    cons: ["dGPU (if present) MUST be disabled", "Check Wi-Fi card", "Soldered RAM common", "Acer BIOS can be limited"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "OpenIntelWireless (if Intel Wi-Fi)", "SSDT-DGPU-DISABLE (if dGPU)"],
                    chartData: [3, 4, 4, 4]
                }
            },
            "lg-gram-14z990": { // Example LG Gram (8th Gen)
                name: "LG Gram 14/15 (e.g., 14Z990, 8th Gen Intel)",
                priority: ["ease", "performance"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=LG+Gram+14",
                score: 76,
                summary: "Incredibly lightweight laptops with good battery life. 8th-10th Gen Intel models are generally compatible.",
                details: {
                    cpu: "8th Gen Intel U-Series (i5/i7)",
                    igpu: "Intel UHD 620",
                    dgpu: "None",
                    wifi: "Intel (Works with OpenIntelWireless)",
                    audio: "Realtek ALC256 or Conexant (Conexant is problematic!)",
                    trackpad: "Synaptics/ELAN (I2C)",
                    ram: "8GB/16GB DDR4 (Often 1 soldered + 1 slot, or fully soldered)",
                    storage: "M.2 NVMe SSD (Often dual slots)",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3300, source: "Geekbench 5 Multi (i7-8565U est.)" },
                    pros: ["Extremely lightweight", "Long battery life (even on macOS)", "Dual SSD slots common"],
                    cons: ["Audio can be Conexant (bad!) - check specific model", "Some RAM soldered", "Build quality is light, can feel flexible"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "OpenIntelWireless"],
                    chartData: [4, 3, 5, 3]
                }
            },
            "samsung-notebook9-np900x5t": { // Example Samsung
                name: "Samsung Notebook 9 (NP900X5T, 8th Gen Intel)",
                priority: ["ease"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=Samsung+Note9",
                score: 68,
                summary: "Lightweight Samsung laptop. Compatibility can be decent but Samsung specific ACPI/drivers might be needed.",
                details: {
                    cpu: "8th Gen Intel U-Series (i7-8550U)",
                    igpu: "Intel UHD 620",
                    dgpu: "Optional NVIDIA MX150 (MUST be disabled)",
                    wifi: "Intel (Works with OpenIntelWireless)",
                    audio: "Realtek ALC256",
                    trackpad: "ELAN/Synaptics (I2C)",
                    ram: "8GB/16GB DDR4 (Soldered)",
                    storage: "M.2 NVMe SSD",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Ventura 13.x" },
                    cpuBenchmark: { score: 3200, source: "Geekbench 5 Multi (i7-8550U est.)" },
                    pros: ["Very light", "Good display"],
                    cons: ["dGPU (if present) MUST be disabled", "Soldered RAM", "Samsung specific firmware quirks can make setup harder", "Fewer community guides typically"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "OpenIntelWireless", "SSDT-DGPU-DISABLE (if dGPU)", "Custom SSDTs for Samsung features if needed"],
                    chartData: [3, 3, 5, 3]
                }
            },
            "huawei-matebook-x-pro-2019": { // Covers 2018-2020
                name: "Huawei MateBook X Pro (2018-2020 Intel)",
                priority: ["performance", "ease"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=MateBook+X+Pro",
                score: 77,
                summary: "Premium ultrabook with excellent screen and good Hackintosh track record, especially earlier models.",
                details: {
                    cpu: "8th/10th Gen Intel U-Series (Kaby Lake R / Comet Lake)",
                    igpu: "Intel UHD 620",
                    dgpu: "NVIDIA MX150/MX250 (MUST be disabled)",
                    wifi: "Intel (Works with OpenIntelWireless)",
                    audio: "Realtek ALC256 (Layout ID needed)",
                    trackpad: "Synaptics/ELAN (I2C, good support)",
                    ram: "8GB/16GB LPDDR3 (Soldered)",
                    storage: "M.2 NVMe SSD",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3600, source: "Geekbench 5 Multi (i7-10510U est.)" },
                    pros: ["Stunning 3K display", "Great build quality", "Good community support"],
                    cons: ["dGPU MUST be disabled", "Soldered RAM", "Webcam position (in keyboard)"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "OpenIntelWireless", "SSDT-DGPU-DISABLE", "Custom SSDTs for brightness, etc."],
                    chartData: [4, 4, 4, 2]
                }
            },
            "toshiba-tecra-z50e": {
                name: "Toshiba Tecra Z50-E (8th Gen Intel)",
                priority: ["budget"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=Tecra+Z50-E",
                score: 65,
                summary: "Business laptop, less common for Hackintosh but potentially workable with 8th Gen Intel. Research specific config.",
                details: {
                    cpu: "8th Gen Intel U-Series (i5/i7)",
                    igpu: "Intel UHD 620",
                    dgpu: "Optional NVIDIA MX130/MX150 (MUST be disabled)",
                    wifi: "Intel (Works with OpenIntelWireless) or other (Replace)",
                    audio: "Realtek (Varies)",
                    trackpad: "Synaptics (I2C/SMBus)",
                    ram: "Up to 32GB DDR4 (2 slots)",
                    storage: "M.2 SATA/NVMe SSD + 2.5\" bay",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Ventura 13.x" },
                    cpuBenchmark: { score: 3000, source: "Geekbench 5 Multi (i5-8250U est.)" },
                    pros: ["Upgradeable", "Business build quality"],
                    cons: ["dGPU (if present) MUST be disabled", "Less community support than Dell/Lenovo", "BIOS might be restrictive"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "VoodooPS2Controller", "OpenIntelWireless (if Intel Wi-Fi)", "SSDT-DGPU-DISABLE (if dGPU)"],
                    chartData: [3, 3, 3, 4]
                }
            },
            "chuwi-corebook-x-i5-8259u": {
                name: "Chuwi CoreBook X (Intel i5-8259U)",
                priority: ["budget", "performance"],
                image: "https://placehold.co/600x400/cccccc/FFFFFF?text=Chuwi+CoreBookX",
                score: 72,
                summary: "Budget laptop with a surprisingly powerful Iris Plus 655 iGPU. Good Hackintosh potential if you get this specific CPU.",
                details: {
                    cpu: "Intel Core i5-8259U (Coffee Lake U, 28W)",
                    igpu: "Intel Iris Plus Graphics 655 (Excellent support)",
                    dgpu: "None",
                    wifi: "Intel AC 7265 or similar (Works with OpenIntelWireless)",
                    audio: "Realtek ALC269 (Layout ID needed)",
                    trackpad: "Generic I2C (VoodooI2C needed)",
                    ram: "8GB/16GB DDR4 (Often soldered)",
                    storage: "M.2 SATA/NVMe SSD",
                    macosSupport: { min: "macOS Mojave 10.14", max: "macOS Sonoma 14.x" },
                    cpuBenchmark: { score: 3800, source: "Geekbench 5 Multi (i5-8259U est.)" },
                    pros: ["Excellent iGPU performance (Iris Plus 655)", "Affordable for the specs", "Good 3:2 display"],
                    cons: ["Build quality is budget", "Soldered RAM common", "Limited BIOS options", "Lesser known brand, fewer guides"],
                    kexts: ["Lilu", "WhateverGreen", "VirtualSMC", "AppleALC", "VoodooI2C", "OpenIntelWireless"],
                    chartData: [3, 4, 4, 5]
                }
            }

        };

        const componentData = {
            "CPU": {
                intro: "The CPU is the brain. Intel CPUs from 8th-10th Gen are the 'sweet spot'. Newer generations and AMD CPUs introduce significant challenges for laptops.",
                items: [
                    { name: "Intel 8th-10th Gen (Coffee/Comet/Ice Lake U/H)", status: "good", desc: "Recommended: Excellent choice. Best balance of performance, iGPU compatibility (UHD 620/630, Iris Plus), and community support." },
                    { name: "Intel 11th+ Gen (Tiger/Alder Lake & newer)", status: "bad", desc: "Avoid for Laptops: Their Iris Xe iGPUs lack graphics acceleration in macOS, making them unusable for a good experience unless it's a rare model where iGPU can be fully disabled and a supported AMD dGPU is present (uncommon in laptops)." },
                    { name: "Intel 4th-7th Gen (Haswell/Broadwell/Skylake/Kaby Lake)", status: "mid", desc: "Viable with Effort: Good for budget builds. Compatibility is generally good with appropriate patching (e.g. HD 4600, HD 5500, HD 620), but lower performance. Great for learning on cheaper hardware." },
                    { name: "AMD Ryzen (All series for laptops)", status: "bad", desc: "Avoid for Laptops: Requires complex patches (NootedRed for iGPU), and support for iGPU, power management, sleep, and other features is very inconsistent, experimental, and often breaks." }
                ]
            },
            "GPU": {
                intro: "Graphics acceleration is non-negotiable. For laptops, the integrated GPU (iGPU) is almost always the one you'll use. NVIDIA dGPUs are not supported on recent macOS versions and MUST be disabled.",
                items: [
                    { name: "Intel UHD 620 / 630 / Iris Plus (8th-10th Gen)", status: "good", desc: "Recommended: The gold standard for laptop iGPUs. Excellent support in macOS." },
                    { name: "Intel HD Graphics (4th-7th Gen, e.g., HD 4600, HD 520, HD 620)", status: "mid", desc: "Usable: Supported with WhateverGreen and appropriate device properties. Performance varies but generally okay for non-demanding tasks." },
                    { name: "Intel Iris Xe (11th Gen+)", status: "bad", desc: "Avoid: No hardware acceleration in macOS for these iGPUs. Makes the system very laggy and unusable." },
                    { name: "NVIDIA GeForce/Quadro dGPU (All modern laptop versions)", status: "bad", desc: "Must Disable: No support in recent macOS versions (High Sierra was last for some older cards). Must be disabled via ACPI patches (SSDT) to prevent heat, battery drain, and instability. Cannot be used as primary GPU." },
                    { name: "AMD Radeon dGPU (RX 5xx, Vega M, RX 5xxxM, 6xxxM series)", status: "mid", desc: "Potentially Usable (Rare): Some AMD dGPUs are supported. However, in most laptops with Optimus-like technology (paired with Intel iGPU), the dGPU cannot drive the internal display. If it's the sole GPU or can directly drive display, it might work, but this is uncommon. Research specific model thoroughly." }
                ]
            },
            "Wi-Fi": {
                intro: "Wireless is crucial. Many stock laptop cards are not compatible and must be replaced. Check if your laptop's Wi-Fi card is soldered or replaceable before buying.",
                 items: [
                    { name: "Broadcom (e.g., DW1560, DW1820A, DW1830, Fenvi cards)", status: "good", desc: "Recommended (Check Sonoma/Sequoia compatibility): Offers the most 'native' experience, enabling features like AirDrop & Handoff. Some cards may need OCLP patching on newest macOS versions." },
                    { name: "Intel Wi-Fi (e.g., AX200, AX201, AX210, AC-9560)", status: "mid", desc: "Good Alternative: Works well with OpenIntelWireless kexts (itlwm + HeliPort or AirportItlwm). Most Apple ecosystem features (AirDrop, Handoff, Continuity Camera) will NOT work or be limited." },
                    { name: "Atheros (Older cards, e.g., AR9285, AR9380)", status: "mid", desc: "Viable for Older Systems: Some older Atheros cards have good support on older macOS versions. Check specific chipset." },
                    { name: "Killer Wireless (Intel-based, e.g., AX1650)", status: "mid", desc: "Usually Intel Rebrands: If based on an Intel chipset (like AX200), it will work with OpenIntelWireless. Non-Intel Killer cards are generally incompatible." },
                    { name: "Realtek Wi-Fi / Qualcomm Atheros (newer QCA series)", status: "bad", desc: "Avoid: Poor to no support. Must be replaced." }
                ]
            },
            "RAM": { 
                intro: "macOS benefits from ample RAM, especially for creative tasks. Ensure your chosen laptop's RAM is compatible and sufficient for your needs.",
                items: [
                    { name: "DDR3 / DDR3L (1333MHz, 1600MHz)", status: "good", desc: "Compatible: Standard for older Hackintosh-compatible laptops (3rd-5th Gen Intel). Works reliably." },
                    { name: "DDR4 (2133MHz, 2400MHz, 2666MHz+)", status: "good", desc: "Compatible: Standard for modern Hackintosh laptops (6th Gen Intel onwards). Works reliably." },
                    { name: "LPDDR3 / LPDDR4 / LPDDR4X (Soldered)", status: "good", desc: "Compatible (If on board): Low Power RAM, common in ultrabooks. Works fine, but it's almost always soldered, so ensure you get enough capacity at purchase." },
                    { name: "ECC RAM (Error Correcting Code)", status: "mid", desc: "Usually Works (Non-ECC Mode): While some Xeon-based Hackintoshes might use ECC RAM, macOS typically doesn't leverage ECC features. It should work as standard non-ECC RAM." },
                    { name: "Mismatched RAM Sticks (Speed/Capacity/Brand)", status: "bad", desc: "Avoid if Possible: Can lead to instability or prevent booting. Always try to use matching pairs of RAM sticks for dual-channel operation and stability." }
                ]
            },
            "Storage": { 
                intro: "macOS is picky about NVMe SSDs. A wrong choice can lead to slowdowns, freezes, or kernel panics. SATA SSDs are generally safer.",
                 items: [
                    { name: "SATA SSD (Any major brand, e.g., Crucial, WD, Samsung SATA, SanDisk)", status: "good", desc: "Highly Recommended for Stability: Virtually all SATA SSDs work flawlessly and are the safest bet for compatibility." },
                    { name: "NVMe SSD - Western Digital (e.g., SN550, SN570, SN750, SN770, Black series)", status: "good", desc: "Recommended NVMe: Generally excellent compatibility and reliability with macOS. Good performance." },
                    { name: "NVMe SSD - Crucial (P-series, e.g., P1, P2, P5)", status: "good", desc: "Good NVMe Option: Most Crucial NVMe drives work well. P1/P2 are QLC and might be slower for sustained writes but are compatible." },
                    { name: "NVMe SSD - Kingston (A2000, KC2500, KC3000)", status: "mid", desc: "Generally Compatible: Many Kingston NVMe drives work, but research specific models. Some newer/controller-specific models might have issues." },
                    { name: "NVMe SSD - Samsung (e.g., PM981, PM981a, PM9A1, 970 EVO Plus, 980 Pro, 990 Pro)", status: "bad", desc: "Problematic - Avoid or Use with Caution: Many Samsung NVMes (especially OEM like PM981) are known for issues like freezes, trim problems, or instability in macOS. Some newer retail drives (970 Evo Plus, 980/990 Pro) might work with specific firmware or kexts (e.g., NVMeFix.kext, SetApfsTrimTimeout in OpenCore) but can still be unreliable. Not recommended for beginners." },
                    { name: "NVMe SSD - Micron / SK Hynix (OEM models)", status: "bad", desc: "Often Problematic: Certain OEM models from these brands can be incompatible or cause issues. Research specific model numbers carefully." },
                    { name: "HDD (Hard Disk Drive)", status: "mid", desc: "Usable but Slow: macOS will run on an HDD, but the experience will be very slow compared to an SSD. Not recommended for main OS drive if avoidable." }
                ]
            }
        };
        
        document.addEventListener('DOMContentLoaded', () => {
            const laptopGrid = document.getElementById('laptop-grid');
            const detailModal = document.getElementById('laptop-modal');
            const detailModalCloseBtn = document.getElementById('modal-close-btn');
            
            const priorityFilterButtonsContainer = document.getElementById('priority-filter-buttons');
            const priorityBtns = priorityFilterButtonsContainer.querySelectorAll('.priority-btn, .priority-btn-all');

            const themeToggle = document.getElementById('theme-toggle');
            const themeIconLight = document.getElementById('theme-icon-light');
            const themeIconDark = document.getElementById('theme-icon-dark');
            let detailChartInstance = null;
            const comparisonModal = document.getElementById('comparison-modal');
            const comparisonModalCloseBtn = document.getElementById('comparison-modal-close-btn');
            const comparisonModalContent = document.getElementById('comparison-modal-content');
            const compareSelectedBtn = document.getElementById('compare-selected-btn');
            const clearSelectionBtn = document.getElementById('clear-selection-btn');
            const selectedCountSpan = document.getElementById('selected-count');
            const compareActionBar = document.getElementById('compare-action-bar');
            const findBarInput = document.getElementById('find-bar');


            let selectedLaptopsForComparison = [];
            let comparisonChartInstances = {};


            // Theme Management
            function applyTheme(theme) {
                if (theme === 'dark') {
                    document.documentElement.classList.add('dark');
                    themeIconLight.classList.add('hidden');
                    themeIconDark.classList.remove('hidden');
                } else {
                    document.documentElement.classList.remove('dark');
                    themeIconLight.classList.remove('hidden');
                    themeIconDark.classList.add('hidden');
                }
                if (detailChartInstance) {
                    updateChartTheme(detailChartInstance, theme);
                }
                Object.values(comparisonChartInstances).forEach(chart => updateChartTheme(chart, theme));
            }

            function updateChartTheme(chart, theme) {
                const isDark = theme === 'dark';
                const gridColor = isDark ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.1)';
                const pointLabelColor = isDark ? '#e2e8f0' : '#495057';
                const angleLinesColor = isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.05)';

                if (chart && chart.options && chart.options.scales && chart.options.scales.r) {
                     chart.options.scales.r.grid.color = gridColor;
                     chart.options.scales.r.pointLabels.color = pointLabelColor;
                     chart.options.scales.r.angleLines.color = angleLinesColor;
                     chart.options.scales.r.ticks.backdropColor = isDark ? 'rgba(45, 55, 72, 0.75)' : 'rgba(255, 255, 255, 0.75)';
                     chart.options.scales.r.ticks.color = pointLabelColor;
                     if (chart.options.plugins && chart.options.plugins.legend) {
                         chart.options.plugins.legend.labels.color = pointLabelColor;
                     }
                     chart.update();
                }
            }


            themeToggle.addEventListener('click', () => {
                const currentTheme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                localStorage.setItem('theme', newTheme);
                applyTheme(newTheme);
            });

            const savedTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
            applyTheme(savedTheme);

            function renderLaptops(priorityFilter = "all", searchTerm = "") { 
                laptopGrid.innerHTML = '';
                let laptopsToRender = Object.entries(laptopData);

                if (priorityFilter !== "all") {
                    laptopsToRender = laptopsToRender.filter(([id, data]) => data.priority.includes(priorityFilter));
                }

                if (searchTerm.trim() !== "") {
                    const lowerSearchTerm = searchTerm.trim().toLowerCase();
                    laptopsToRender = laptopsToRender.filter(([id, data]) => {
                        return (
                            data.name.toLowerCase().includes(lowerSearchTerm) ||
                            data.summary.toLowerCase().includes(lowerSearchTerm) ||
                            data.details.cpu.toLowerCase().includes(lowerSearchTerm) ||
                            data.details.igpu.toLowerCase().includes(lowerSearchTerm) ||
                            (data.details.dgpu && data.details.dgpu !== "None" && data.details.dgpu.toLowerCase().includes(lowerSearchTerm)) ||
                            data.details.ram.toLowerCase().includes(lowerSearchTerm) ||
                            data.details.storage.toLowerCase().includes(lowerSearchTerm)
                        );
                    });
                }
                
                laptopsToRender.forEach(([id, data]) => {
                    const scoreColor = data.score >= 80 ? 'bg-green-500' : data.score >= 70 ? 'bg-yellow-500' : 'bg-red-500';
                    const isSelected = selectedLaptopsForComparison.includes(id);
                    
                    const card = `
                        <div class="bg-white rounded-xl card-shadow overflow-hidden transform hover:-translate-y-1 transition-transform duration-300 relative">
                            <div class="absolute top-2 right-2 z-10">
                                <input type="checkbox" id="compare-${id}" data-id="${id}" class="compare-checkbox h-6 w-6 text-primary rounded border-gray-300 focus:ring-primary dark:bg-gray-700 dark:border-gray-600 dark:checked:bg-primary dark:focus:ring-offset-gray-800" ${isSelected ? 'checked' : ''}>
                                <label for="compare-${id}" class="sr-only">Select ${data.name} for comparison</label>
                            </div>
                            <div class="cursor-pointer laptop-card-clickable-area" data-id="${id}">
                                <img src="${data.image}" alt="${data.name}" class="w-full h-48 object-cover" onerror="this.onerror=null;this.src='https://placehold.co/600x400/212529/F8F9FA?text=Image+Not+Found';">
                                <div class="p-6">
                                    <h3 class="text-xl font-bold mb-2">${data.name}</h3>
                                    <p class="text-medium text-sm mb-4 h-20 overflow-y-auto">${data.summary}</p>
                                    <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5">
                                        <div class="${scoreColor} h-2.5 rounded-full" style="width: ${data.score}%"></div>
                                    </div>
                                    <p class="text-xs text-right mt-1 text-light">Compatibility Score: ${data.score}%</p>
                                </div>
                            </div>
                        </div>
                    `;
                    laptopGrid.insertAdjacentHTML('beforeend', card);
                });
                addCardAndCheckboxListeners();
                updateCompareActionBar();
            }
            
            if (findBarInput) {
                findBarInput.addEventListener('input', (e) => {
                    const searchTerm = e.target.value;
                    const activePriorityButton = document.querySelector('#priority-filter-buttons .active-filter');
                    const currentPriorityFilter = activePriorityButton ? activePriorityButton.dataset.priority : "all";
                    renderLaptops(currentPriorityFilter, searchTerm);
                });
            }

            function updateCompareActionBar() {
                const count = selectedLaptopsForComparison.length;
                selectedCountSpan.textContent = count;
                if (count > 0) {
                    compareActionBar.classList.remove('hidden');
                } else {
                    compareActionBar.classList.add('hidden');
                }
                compareSelectedBtn.disabled = count < 2;
            }

            function addCardAndCheckboxListeners() {
                document.querySelectorAll('.laptop-card-clickable-area').forEach(cardArea => {
                    cardArea.addEventListener('click', () => showDetailModal(cardArea.dataset.id));
                });
                document.querySelectorAll('.compare-checkbox').forEach(checkbox => {
                    checkbox.addEventListener('change', (e) => {
                        const id = e.target.dataset.id;
                        if (e.target.checked) {
                            if (!selectedLaptopsForComparison.includes(id)) {
                                selectedLaptopsForComparison.push(id);
                            }
                        } else {
                            selectedLaptopsForComparison = selectedLaptopsForComparison.filter(laptopId => laptopId !== id);
                        }
                        updateCompareActionBar();
                    });
                });
            }
            
            compareSelectedBtn.addEventListener('click', () => {
                if (selectedLaptopsForComparison.length >= 2) {
                    showComparisonModal(selectedLaptopsForComparison);
                }
            });

            clearSelectionBtn.addEventListener('click', () => {
                selectedLaptopsForComparison = [];
                document.querySelectorAll('.compare-checkbox').forEach(cb => cb.checked = false);
                updateCompareActionBar();
            });


            function showDetailModal(id) {
                const data = laptopData[id];
                if (!data) return;

                document.getElementById('modal-title').innerText = data.name;
                const content = document.getElementById('modal-content');

                content.innerHTML = `
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <img src="${data.image}" alt="${data.name}" class="w-full rounded-lg mb-4 shadow-lg" onerror="this.onerror=null;this.src='https://placehold.co/600x400/212529/F8F9FA?text=Image+Not+Found';">
                            
                            <h3 class="font-bold text-lg mb-2 mt-4 text-primary">Core Specifications</h3>
                             <ul class="text-sm text-medium space-y-1 mb-4">
                                <li><strong>CPU:</strong> ${data.details.cpu}</li>
                                <li><strong>iGPU:</strong> ${data.details.igpu}</li>
                                ${data.details.dgpu && data.details.dgpu !== "None" ? `<li><strong>dGPU:</strong> ${data.details.dgpu}</li>` : ''}
                                <li><strong>RAM:</strong> ${data.details.ram}</li>
                                <li><strong>Storage:</strong> ${data.details.storage}</li>
                                <li><strong>Wi-Fi:</strong> ${data.details.wifi}</li>
                                <li><strong>Audio:</strong> ${data.details.audio}</li>
                                <li><strong>Trackpad:</strong> ${data.details.trackpad}</li>
                             </ul>
                            
                            <h3 class="font-bold text-lg mb-2 text-primary">macOS Compatibility</h3>
                            <ul class="text-sm text-medium space-y-1 mb-4">
                                <li><strong>Min Supported:</strong> ${data.details.macosSupport.min}</li>
                                <li><strong>Max Supported:</strong> ${data.details.macosSupport.max}</li>
                                ${data.details.cpuBenchmark ? `<li><strong>CPU Benchmark:</strong> ~${data.details.cpuBenchmark.score} (${data.details.cpuBenchmark.source})</li>` : ''}
                            </ul>

                            <h3 class="font-bold text-lg mb-2 text-primary">Compatibility Report</h3>
                            <div class="mb-4">
                                <h4 class="font-semibold">What Works Well 👍</h4>
                                <ul class="list-disc list-inside text-sm text-medium space-y-1 mt-1">
                                    ${data.details.pros.map(p => `<li>${p}</li>`).join('')}
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-semibold">Key Challenges ⚠️</h4>
                                <ul class="list-disc list-inside text-sm text-medium space-y-1 mt-1">
                                    ${data.details.cons.map(c => `<li>${c}</li>`).join('')}
                                </ul>
                            </div>
                             <h3 class="font-bold text-lg mb-2 mt-4 text-primary">Essential Kexts (Typical)</h3>
                             <p class="text-sm text-medium">${data.details.kexts.join(', ')}</p>
                        </div>
                        <div>
                           <div class="chart-container">
                                <canvas id="laptop-chart"></canvas>
                           </div>
                        </div>
                    </div>
                `;
                
                detailModal.classList.remove('hidden');
                detailModal.classList.add('flex'); // Ensure flex is added to make it visible
                document.body.style.overflow = 'hidden';
                
                if(detailChartInstance) {
                    detailChartInstance.destroy();
                }
                
                const ctx = document.getElementById('laptop-chart').getContext('2d');
                const currentTheme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';
                detailChartInstance = createRadarChart(ctx, data.name, data.details.chartData, currentTheme);
            }

            function hideDetailModal() {
                detailModal.classList.add('hidden');
                detailModal.classList.remove('flex');
                if (!comparisonModal.classList.contains('flex')) {
                    document.body.style.overflow = 'auto';
                }
            }
            
            function createRadarChart(ctx, label, chartData, theme, isComparisonChart = false) {
                const isDark = theme === 'dark';
                const gridColor = isDark ? 'rgba(255, 255, 255, 0.2)' : 'rgba(0, 0, 0, 0.1)';
                const pointLabelColor = isDark ? '#e2e8f0' : '#495057';
                const angleLinesColor = isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.05)';
                const tickColor = pointLabelColor;
                const legendLabelColor = pointLabelColor;

                return new Chart(ctx, {
                    type: 'radar',
                    data: {
                        labels: ['Ease', 'Perf', 'Port', 'Budget'], 
                        datasets: [{
                            label: label,
                            data: chartData,
                            backgroundColor: 'rgba(74, 144, 226, 0.2)',
                            borderColor: 'rgba(74, 144, 226, 1)',
                            pointBackgroundColor: 'rgba(74, 144, 226, 1)',
                            pointBorderColor: '#fff',
                            pointHoverBackgroundColor: '#fff',
                            pointHoverBorderColor: 'rgba(74, 144, 226, 1)'
                        }]
                    },
                    options: {
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                angleLines: { color: angleLinesColor },
                                grid: { color: gridColor },
                                pointLabels: { font: { size: isComparisonChart ? 10 : 12 }, color: pointLabelColor },
                                suggestedMin: 0,
                                suggestedMax: 5,
                                ticks: {
                                    stepSize: 1,
                                    backdropColor: isDark ? 'rgba(45, 55, 72, 0.75)' : 'rgba(255, 255, 255, 0.75)',
                                    color: tickColor,
                                    showLabelBackdrop: !isComparisonChart 
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: !isComparisonChart, 
                                position: 'top',
                                labels: { color: legendLabelColor }
                            }
                        }
                    }
                });
            }


            function showComparisonModal(laptopIds) {
                comparisonModalContent.innerHTML = ''; 
                Object.values(comparisonChartInstances).forEach(chart => chart.destroy()); 
                comparisonChartInstances = {};
                const currentTheme = document.documentElement.classList.contains('dark') ? 'dark' : 'light';

                laptopIds.forEach((id, index) => {
                    const data = laptopData[id];
                    if (!data) return;

                    const laptopDiv = document.createElement('div');
                    laptopDiv.className = 'bg-secondary p-4 rounded-lg card-shadow flex flex-col'; 
                    laptopDiv.innerHTML = `
                        <h3 class="text-xl font-bold mb-3 text-primary">${data.name}</h3>
                        <img src="${data.image}" alt="${data.name}" class="w-full h-40 object-cover rounded-md mb-3" onerror="this.onerror=null;this.src='https.placehold.co/400x200/212529/F8F9FA?text=No+Image';">
                        <p class="text-xs text-medium mb-1"><strong>Score:</strong> ${data.score}%</p>
                        ${data.details.cpuBenchmark ? `<p class="text-xs text-medium mb-2"><strong>CPU Bench:</strong> ~${data.details.cpuBenchmark.score}</p>` : ''}
                        
                        <h4 class="font-semibold text-sm mt-2 mb-1">Key Specs:</h4>
                        <ul class="text-xs text-medium list-none space-y-0.5 mb-2">
                            <li><strong>RAM:</strong> ${data.details.ram}</li>
                            <li><strong>Storage:</strong> ${data.details.storage}</li>
                            <li><strong>macOS:</strong> ${data.details.macosSupport.min} - ${data.details.macosSupport.max}</li>
                        </ul>
                        
                        <div class="comparison-chart-container mt-auto">
                            <canvas id="compare-chart-${id}"></canvas>
                        </div>
                    `;
                    comparisonModalContent.appendChild(laptopDiv);

                    const ctx = document.getElementById(`compare-chart-${id}`).getContext('2d');
                    comparisonChartInstances[id] = createRadarChart(ctx, data.name, data.details.chartData, currentTheme, true);
                });

                comparisonModal.classList.remove('hidden');
                comparisonModal.classList.add('flex');
                document.body.style.overflow = 'hidden';
            }
            
            function hideComparisonModal() {
                comparisonModal.classList.add('hidden');
                comparisonModal.classList.remove('flex');
                if (!detailModal.classList.contains('flex')) { 
                     document.body.style.overflow = 'auto';
                }
            }
            
            priorityBtns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const priority = e.currentTarget.dataset.priority;
                    const searchTerm = findBarInput ? findBarInput.value : "";
                    renderLaptops(priority, searchTerm);

                    priorityBtns.forEach(b => b.classList.remove('active-filter'));
                    e.currentTarget.classList.add('active-filter');
                    
                    document.getElementById('explorer').scrollIntoView({ behavior: 'smooth' });
                });
            });

            detailModalCloseBtn.addEventListener('click', hideDetailModal);
            detailModal.addEventListener('click', (e) => {
                // Close only if the click is on the modal background itself, not its content
                if (e.target === detailModal.querySelector('.bg-white > div:first-child')) { // This might need adjustment if modal structure changes
                    // This logic is tricky with full-screen modal, rely on close button.
                }
            });


            comparisonModalCloseBtn.addEventListener('click', hideComparisonModal);
            comparisonModal.addEventListener('click', (e) => {
                if (e.target === comparisonModal) hideComparisonModal();
            });


            const componentTabsContainer = document.getElementById('component-tabs');
            const componentContentContainer = document.getElementById('component-content');
            
            function renderComponentContent(key) {
                const data = componentData[key];
                if (!data) return;
                
                let contentHTML = `<p class="text-center text-medium mb-6">${data.intro}</p><div class="space-y-4">`;
                data.items.forEach(item => {
                    let statusClass, icon, darkStatusClass;
                    if (item.status === 'good') {
                        statusClass = 'border-l-4 border-green-500 bg-green-50';
                        darkStatusClass = 'dark:bg-green-900/50 dark:border-green-400';
                        icon = '✔';
                    } else if (item.status === 'mid') {
                        statusClass = 'border-l-4 border-yellow-500 bg-yellow-50';
                        darkStatusClass = 'dark:bg-yellow-700/50 dark:border-yellow-400';
                        icon = '〰️';
                    } else { 
                        statusClass = 'border-l-4 border-red-500 bg-red-50';
                        darkStatusClass = 'dark:bg-red-900/50 dark:border-red-400';
                        icon = '❌';
                    }
                    contentHTML += `
                        <div class="p-4 rounded-lg ${statusClass} ${darkStatusClass}">
                            <h4 class="font-bold text-dark">${icon} ${item.name}</h4>
                            <p class="text-sm text-medium mt-1">${item.desc}</p>
                        </div>
                    `;
                });
                contentHTML += `</div>`;
                componentContentContainer.innerHTML = contentHTML;

                document.querySelectorAll('.component-tab').forEach(t => t.classList.remove('active'));
                document.querySelector(`.component-tab[data-key="${key}"]`).classList.add('active');
            }

            Object.keys(componentData).forEach((key, index) => {
                const tab = document.createElement('button');
                tab.innerText = key;
                tab.dataset.key = key;
                tab.className = `component-tab font-semibold py-2 px-4 rounded-md cursor-pointer border-2 border-transparent ${index === 0 ? 'active' : 'bg-gray-200 dark:bg-gray-700'}`;
                tab.addEventListener('click', () => renderComponentContent(key));
                componentTabsContainer.appendChild(tab);
            });
            
            renderComponentContent(Object.keys(componentData)[0]); 
            
            // Initial render call with current filters
            const initialSearchTermValue = findBarInput ? findBarInput.value : "";
            const initialPriorityFilterValue = document.querySelector('#priority-filter-buttons .active-filter')?.dataset.priority || "all";
            renderLaptops(initialPriorityFilterValue, initialSearchTermValue);


            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
                if (document.documentElement.classList.contains('dark')) {
                    mobileMenu.classList.add('dark:bg-gray-800');
                } else {
                    mobileMenu.classList.remove('dark:bg-gray-800');
                }
            });
            
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('main > section');

            function changeActiveLink() {
                let index = sections.length;
                const headerHeight = document.querySelector('header').offsetHeight || 70;
                while(--index >= 0 && window.scrollY + headerHeight + 20 < sections[index].offsetTop) {} 
                
                navLinks.forEach((link) => link.classList.remove('active'));
                
                if (index >= 0) { 
                    const activeSectionId = sections[index].id;
                    const activeDesktopLink = document.querySelector(`.hidden.md\\:flex .nav-link[href="#${activeSectionId}"]`);
                    const activeMobileLink = document.querySelector(`#mobile-menu .nav-link[href="#${activeSectionId}"]`);

                    if (activeDesktopLink) activeDesktopLink.classList.add('active');
                    if (activeMobileLink) activeMobileLink.classList.add('active');
                } else if (sections.length > 0) { 
                    const firstSectionId = sections[0].id;
                    const activeDesktopLink = document.querySelector(`.hidden.md\\:flex .nav-link[href="#${firstSectionId}"]`);
                    const activeMobileLink = document.querySelector(`#mobile-menu .nav-link[href="#${firstSectionId}"]`);
                    if (activeDesktopLink) activeDesktopLink.classList.add('active');
                    if (activeMobileLink) activeMobileLink.classList.add('active');
                }
            }
            
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    if (targetSection) {
                         window.scrollTo({
                            top: targetSection.offsetTop - (document.querySelector('header').offsetHeight || 70),
                            behavior: 'smooth'
                        });
                    }
                    if (!mobileMenu.classList.contains('hidden')) {
                       mobileMenu.classList.add('hidden');
                    }
                    navLinks.forEach(lnk => lnk.classList.remove('active'));
                    link.classList.add('active');
                    const otherMenuSelector = link.closest('#mobile-menu') ? '.hidden.md\\:flex' : '#mobile-menu';
                    const correspondingLink = document.querySelector(`${otherMenuSelector} .nav-link[href="${targetId}"]`);
                    if(correspondingLink) {
                        // Ensure other corresponding links are also deactivated before activating the new one
                        document.querySelectorAll(`${otherMenuSelector} .nav-link`).forEach(l => l.classList.remove('active'));
                        correspondingLink.classList.add('active');
                    }

                });
            });

            window.addEventListener('scroll', changeActiveLink);
            changeActiveLink(); 
        });
    </script>
</body>
</html>
